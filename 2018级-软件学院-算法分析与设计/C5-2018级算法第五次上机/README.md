# C5-2018级算法第五次上机

# 图1

时间限制: 1000 ms 内存限制: 65536 kb

总通过人数: 99 总提交人数: 118

## 题面

一个无向图，`N`个点编号`1~N`。`M`条边，每条边有一个权值`c`。

对于一个点集`A`，这个点集的权值`S`定义为SA=maxcij，其中i∈A∧j∈A∧i≠j。

现在将N个点分割为两个点集A、B，请问max(SA,SB) 的最小值

## 输入

第一行两个正整数N、M。(2≤N≤20000,1≤M≤100000)

接下来M行，每行三个整数a,b,c，表示ab之间有一条权值为c的边（1≤a,b≤N,1≤c≤109）

## 输出

一行一个数

## 输入样例

```
4 6
1 4 2534
2 3 3512
1 2 28351
1 3 6618
2 4 1805
3 4 12884
```

## 输出样例

```
3512
```

## 思路

**本题是一个二分图判定的问题，做法有二分答案+dfs01染色或者权值并查集两种，此处讲解更方便的后者**

**那么我们优先考虑，从最大的开始合并，类似于二分图反集的题目，优先把点集分成两个**

**如果出现了对面集合节点的对面集合节点是本集合节点的时候，当两人跟其他的对面节点都没有矛盾的时候，就可以放心的放在一块了（这也是为什么答案会出现0的原因）然而其他时候，放进来两者不得成环，必须放在同一个点集的时候，这也就意味着必须出现冲突值，而且当前冲突值即为所求**

（顺便，我这里的代码采用了优先队列，完全就是练习优先队列语法写着玩的，改成排序是完全没问题的）

# 图2

时间限制: 1000 ms 内存限制: 65536 kb

总通过人数: 294 总提交人数: 310

## 题面

一个有向图，`N`个点编号`1~N`。`M`条边，每条边有一个权值`c`。

点对 (i, j) 之间的最短路长度记为 Sij。（若 ij 不连通，则Sij=−1）

在所有点对（共有N^2对）中，输出 Sij 最大的点对。如果存在多个 Sij 最大的情况，则一次输出（按 i 的大小由小到大输出，i 相同时按 j 的大小由小到大输出）。

## 输入

多组输入。第一行一个整数 t 表示数据组数 (t≤50)

对于每组数据：

第一行两个正整数 N、M。(2≤N≤200,1≤M≤1000)

接下来 M 行，每行三个整数 a,b,c，表示 a b 之间有一条权值为c的边（1≤a,b≤N,1≤c≤103）

## 输出

对于每组输入，输出 Sij 最大的点对（可能不止一对）。每一对 i j 输出一行，用一个空格隔开，按 i 的大小由小到大输出，i 相同时按 j 的大小由小到大输出，

## 输入样例

```
2
2 1
1 2 3
3 3
1 2 2
2 3 3
3 1 5
```

## 输出样例

```
1 2
2 1
```

## 思路

**稀疏图多源最短路，floyd也可以直接莽过，但是更推荐跑n次dijkstra**

**顺带一提，如果本题含有负权的话，n次SPFA实际上是可以被卡掉的，此时可以考虑johnson全源最短路，本质就是跑1次SPFA之后，根据势能法跑n次dijkstra**，这里也放一个代码作为参考吧，不过对于本题来说属实没必要。

# 图3

时间限制: 1000 ms 内存限制: 65536 kb

总通过人数: 48 总提交人数: 63

## 题面

一个无向图，`N`个点编号`1~N`。`M`条边，每条边有一个权值`c`。

问对于每条边，最少删除多少条边后，可以使得存在一个最小生成树包含这条边。

## 输入

第一行两个正整数N、M。(2≤𝑁,𝑀≤1002≤N,M≤100)

接下来M行，每行三个整数abc，表示ab之间存在一条权值为c的边。（1≤𝑎,𝑏≤𝑁，1≤𝑐≤5001≤a,b≤N，1≤c≤500）

## 输出

输出一行M个数，数之间用空格隔开

## 输入样例

```
3 3
1 2 1
3 1 2
3 2 3
```

## 输出样例

```
0 0 1
```

## 思路

**本题是一个最小割=最大流的简单建模问题，具体建模如下**

- **首先考虑最小生成树的kruskal+并查集算法，本质就是权值从小到大进行合并，直到所有的集合连通为止**
- **最小割的本质则是割掉对应的边之后，从源点到汇点不会再有任何的独立轨道，即两者无法连通**
- **考虑到生成树的排序过程，对于某一条边，前面参与讨论的所有边一定都比自己小，那么就可以把所有比自己小的边都加入网络流，然后直接用最小割=最大流求解**
- **本题的内部本质上是一个无向图，所以注意反向边的权值**

# 垃圾粉碎机

时间限制: 1000 ms 内存限制: 65536 kb

总通过人数: 184 总提交人数: 201

## 题目描述

垃圾分类快来了，垃圾场主某楠希望赶在垃圾分类之前将厂里的垃圾全部粉碎填埋。为此场长专门去租了n台垃圾粉碎机，每种垃圾粉碎机都有一个最长使用时间ti，在这段时间里总共可以处理mi吨垃圾,可以在任意时间使用任意时长，但是用完就不能再用。由于场里太穷，同一时间只能运行一台垃圾粉碎机，现在想问在垃圾分类来临之前，最多能粉碎多少垃圾。为了简化计算，所有时间单位以小时计算。

## 输入

前两个数为垃圾粉碎机的个数N和距离垃圾分类来临时间T小时

接下来N行每行2个整数，对应的ti和mi

所有数字均不大于1e5

## 输出

输出一行，能处理的垃圾最大重量，保留2位小数，单位为吨

## 输入样例

```
1 2
2 3
```

## 输出样例

```
3.00
```

## 思路

部分背包问题，直接根据价值与费用的比例做贪心排序即可

