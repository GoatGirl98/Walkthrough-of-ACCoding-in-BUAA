# Work-2019级航类庆5.1特别赛

# `A` 复习位运算

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

现有一个小于 232 的正整数。小明发现这个数在现在的绝大多数机器上可以用一个3232位的二进制数表示（不足32位用0补足）。他称这个二进制数的前16位为“高位”，后16位为“低位”。将它的高低位交换，可以得到一个新的数。他想知道这个新的数是多少（用十进制表示）。

例如，数1314520用二进制表示为0000 0000 0001 0100 0000 1110 1101 1000（添加了1111个前导00补足为3232位），其中前16位为高位，即0000 0000 0001 0100；后16位为低位，即0000 1110 1101 1000。将它的高低位进行交换，我们得到了一个新的二进制数0000 1110 1101 1000 0000 0000 0001 0100。它即是十进制的249036820。

这里高低位交换是对无符号整数操作。

## 输入

一行。一个正整数nn(n<232n<232)

## 输出

一行。原正整数进行高低位交换后新的数。

## 输入样例

```
1314520
```

## 输出样例

```
249036820
```

## HINT

常用的二进制运算有：左移(<<)，右移(>>)，按位与(&)，按位或(|)，按位异或(^)，按位取反(~)等

*Author 袁圆*

# `B` 网瘾少年CTY

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目介绍

PY助教的室友CTY十分喜欢打游戏，因此心地善良的PY助教准备出一道有关游戏的题让他做。

相信大家对于扫雷这款游戏并不陌生，每个格子上的数字代表这个格子周围的8个格子（边框上可能不到8个）中雷的数目。现在假设你已经知道了雷的分布，现在希望你能推出数字的分布。

## 输入格式

10行，每行10个字符（中间无空格），`'0'` 代表该处没有雷，`'X'`代表该处有雷。（雷至少1个，至多100个）。

## 输出格式

10行，每行10个字符，代表该处的情况。

若这个格子为雷，则字符仍为 `'X'`，若这个格子不是雷，字符为以这个格子为中心，3×33×3 范围内雷的数目，特别的，如果以这个格子为中心 3×33×3 范围内没有雷（即数目为0），字符为一个空格。

## 输入样例

```
00000000X0
000X000000
00000000X0
00X0000000
00000XX000
0000000000
00X0000000
0000000X00
0X000X0000
0000000000
```

## 输出样例

```
  111  1X1
  1X1  222
 1221  1X1
 1X1122211
 1111XX1  
 1111221  
 1X1  111 
1221112X1 
1X1 1X211 
111 111   
```

*Author:潘越*

# `C` 填报高考志愿

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目介绍

现有 mm 所学校，每所学校预计分数线是 aiai。有 nn 位学生，估分分别为 bi bi 。

请你根据 nn 位学生的估分情况，分别给每位学生推荐一所学校，要求学校的预计分数线和学生的估分**相差的绝对值最小**（可高可低，毕竟是估分嘛），这个最小值为不满意度。

求所有学生**不满意度之和**。

## 输入格式

第一行读入两个整数 mm,nn。mm 表示学校数，nn 表示学生数。(m,n≤105m,n≤105)

第二行共有 mm 个数，表示 mm 个学校的预计录取分数 aiai。(0≤ai≤106)(0≤ai≤106)

第三行有 nn 个数，表示 nn 个学生的估分成绩 bibi。(0≤bi≤106)(0≤bi≤106)

## 输出格式

一行，为所有同学的不满意度之和。

## 输入样例1

```
3 2
570 670 690
571 667
```

## 输出样例1

```
4
```

## 输入样例2

```
30 40
8052 9386 4727 5073 5523 7079 1166 448 9861 6552 1808 562 7452 334 8836 5917 5043 1329 5433 8312 6553 685 9015 1255 5293 571 1653 6776 9339 6818 
6508 7934 5317 829 3612 5531 5590 6798 7838 1284 1939 6227 4362 224 6739 2121 1417 3537 4704 831 2077 6918 5758 6700 7808 6096 4876 7027 7674 3539 8201 2949 2551 3535 8073 2695 537 1344 5192 7270 
```

## 输出样例2

```
11552
```

## 数据范围

保证所有同学的不满意度之和在`int`范围内。

## HINT

这么大的数据范围，用两重循环去顺序查找是行不通的哦~

*AUTHOR:宋世英*

## 思路

排序+下界二分查找的综合问题。

找到了第一个大于等于估分成绩的数之后，那么前一个就是最大的小于估分成绩的数，比较他俩中满意度最小的那个就行了。

注意数据范围，以及第一个大于等于估分成绩的数位最开头的数的边界情况。

# `D` split

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

在许多语言中，有split()这个函数。split是一个很实用的函数，它可以以一个字符串为分割点来分割另一个字符串。这样就可以将一个字符串分为多个字符串。但c语言中并不存在这个函数，就需要我们动手来写一个能够实现这一功能的程序。

## 输入格式

两行字符串，均由字母，数字，标点符号组成。 第一行是被分割的字符串，长度为[1,10000]。 第二行是用来分隔的标志,长度为[1,10]。

## 输出格式

多行输出，每行一个字符串，为被分割后的字符串，以”;”作为结尾。如果存在空字符串，则只输出一个”;”即可。

## 输入样例1

```
abcabcabc
b
```

## 输出样例1

```
a;
ca;
ca;
c;
```

## 输出样例说明：

将原字符中的b去掉后，留下四部分，就得到了输出样例1。

## 输入样例2

```
aaa
a
```

## 输出样例2

```
;
;
;
;
```

## 输出样例说明：

三个a将原字符串分割成了四个空字符串，所以输出是四个分号。

## 输入样例3

```
111
11
```

## 输出样例3

```
;
1;
```

## 输出样例说明：

前两个1被看作是分割标志，前面是一个空字符串而后面的1就是第二个字符串了。

*AUTHOR:杜晨鸿*

## 思路

字符串操作替换问题，先在末尾加个分号，剩下的就顺序做子串匹配，匹配到了就用`;\n`替换即可

# `E` jqe的数列

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目介绍

jqe 有一个数列 aa (下标从 11 开始), 其满足



ai={1ai−1+ai−2+ai−31≤i≤3i≥4ai={11≤i≤3ai−1+ai−2+ai−3i≥4



有 qq 次询问，每次询问给定一个正整数 nn，你需要计算 ∑ni=1ai∑i=1nai 对 109+7109+7 取模后的值。

## 输入格式

第一行一个整数 qq（1≤q≤1051≤q≤105）。

接下来的 qq 行，每行一个整数 nn（1≤n≤1061≤n≤106），含义见上。

## 输出格式

输出 qq 行，每行一个整数，表示 ∑ni=1ai∑i=1nai 对 109+7109+7 取模后的值。

## 输入样例

```
2
4
999999
```

## 输出样例

```
6
675267001
```

## 样例解释

aa 的前 44 项分别为 1,1,1,3 , 所以前 4 项之和为 6 。

## HINT

本题需要考虑性能问题。

这道题在 qq 较小 ,n≤1015 的时候也是可以做的，这里留给有兴趣的同学思考，也欢迎与出题人讨论

*AUTHOR：姜涵书*

## 思路

前缀和

大范围的话则需要一定的数学推导+矩阵快速幂

但是相同的量纲复杂度下，我们也可以通过数学推导来优化常数。

$\begin{cases}T_n = T_{n-1} + T_{n-2} + T_{n-3}& (n > 3)\\T_1 = 1, T_2 = 1, T_3 = 1\end{cases},S_n = T_1 + T_2 + ... + T_n$

首先我们从$T_n$的所有求和开始算起，不难得到$S_n=S_{n-1}+S_{n-2}+S_{n-3}+T_3-T_1$

再由于 $a[i]=\sum_{j=i-k}^{i-1}a[j]=\sum_{j=i-k}^{i-2}a[j]+\sum_{j=i-k-1}^{i-2}a[j]=2a[{i-1}]-a[{i-k-1}]$, 代入 $k = 3$，可以得到对应的式子

$\begin{cases}S_n = S_{n-1} \times 2 - T_{n-4}& (n > 3)\\S_1 = 1, S_2 = 2, S_3 = 3\end{cases}$

针对前缀和，在n较大的时候快速幂+矩阵乘法即可。

# `F` 爬爬爬

时间限制：200ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

曾经有一只蚂蚁，它记一个忘一个地爬过墓碑上的数字。这让助教想起了一首歌，一首看到歌词就会出现旋律的歌，助教来帮大家回忆一下：阿门阿前一棵葡萄树，阿嫩阿嫩绿地刚发芽，蜗牛背着那重重的壳呀 一步一步地往上爬，阿树阿上两只黄鹂。阿嘻阿嘻哈哈在笑它，葡萄成熟还早得很哪，现在上来干什么，阿黄阿黄鹂儿不要笑，等我爬上它就成熟了。

曾经有个人，他倒不会记一个数字就忘，但他遇到记忆中存在的数字时，会把上一个关于该数字之前的全部忘记，在他去世时，会有有关部门调查他一生当中所能记下的最长字串的长度。

为了避免部分人的数字恐惧症，助教贴心地把数字换成了字符，没有人想夸一下助教吗？

## 输入

多组输入，每组一长长长串字符，长度小于`10005`，只包括小写字母。

## 输出

对于每一组输入，输出这一组最长的无重复字符串的长度。

## 输入样例

```
abcabcababababababab
dudupupupujijijijijijijijijijijixixixixixixixixixi
```

## 输出样例

```
3
4
```

## HINT

出这道题的助教啊，以前出的都是简单题，这道题也是简单题，但他怕过于划水被挑出来批评，于是决定卡一卡大家。

大家记得优化一下算法啊。（比心）

*AUTHOR:陈龙瑞*

## 思路

本题必须通过记忆化搜索，记忆每种字符最后出现的位置才行

# `G` monotonicity

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

给定一个长度为n的非负整数序列A，和一个正整数S。

求出序列A中累加和不低于S的最短连续子序列，输出它的长度。(连续子序列即原序列中连续的一小段，可以只有1个数，也可以是整个A序列。)

## 输入

第一行，空格隔开的两个正整数，序列的长度n，题目描述中的S。

第二行，空格隔开的n个正整数，表示给定序列A。

## 输出

输出一个数，表示最短的符合题意的子序列长度。如果没有这样的子序列，输出"-1"。

## 输入样例1

```
3 6
3 1 2
```

## 输出样例1

```
3
```

## 输入样例2

```
5 100
1 3 5 3 2
```

## 输出样例2

```
-1
```

## 数据范围

1≤n≤106，1≤S≤10181≤n≤106，1≤S≤1018，序列元素 aiai 不超过 109109。

*Author:康时嘉*

## 思路

尺取法，每一次枚举起点然后二分即可

# `H` djj的异或序列

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目介绍

有一个长度为 nn 的非负整数序列 a1,a2,…,ana1,a2,…,an，求有多少个不同的区间 [l,r], (l≤r)[l,r], (l≤r) ，满足 alxoral+1xor⋯xorar=0alxor⁡al+1xor⁡⋯xor⁡ar=0，其中 xorxor 表示按位异或运算。

特别地，如果 l=rl=r，我们认为上面的计算结果是 alal。

## 输入格式

输入共两行。

第一行为一个正整数 nn，表示序列的长度。

接下来一行，有 nn 个非负整数 a1,a2,…,ana1,a2,…,an，以空格分隔。

## 输出格式

一行一个整数，表示符合题意的区间数量。

## 输入样例

```
5
1 2 3 2 1
```

## 输出样例

```
2
```

## 样例解释

只有两个区间 [1,3][1,3] 和 [3,5][3,5] 的异或值为 00：

- [1,3][1,3]：1xor2xor3=01xor⁡2xor⁡3=0；
- [3,5][3,5]：3xor2xor1=03xor⁡2xor⁡1=0。

## 数据范围

对于 50%50% 的数据，1≤n≤1001≤n≤100；

对于 70%70% 的数据，1≤n≤10,0001≤n≤10,000；

对于 100%100% 的数据，1≤n≤1051≤n≤105。

数据保证任何一个区间的异或值不会超过 105105。

## HINT

复习一下异或的运算性质：

- axora=0axor⁡a=0 ，即一个数异或其本身一定是 00；**如果两个数异或值是 00，那么这两个数也一定相同**；
- 异或运算满足交换律和结合律；

如果想要拿满分，需要将算法的时间复杂度优化为线性。

## 思路

异或前缀和

# `I` 午间

时间限制：100ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目背景

又一行“TLE”！

阿二气得猛拍桌面：“这什么人出的题目啊！还‘午间’！叫‘午夜’吧！午夜杀我！”偌大的办公室都是阿二的叫苦声，但是没有关系，办公室里只有阿二一个人。他特地选了中午这个时间来值班，因为一般这个时间段没什么人，他可以在值班的时候做自己的事情。正当他捶胸顿足丝毫不顾形象时，一句“你好”硬生生地切了进来。阿二抬眼望去，是个女生。高马尾，白T黑短裤，她的手还停在半空，看手势大约刚刚敲过门，只是阿二没听见。灿烂的阳光和喧嚣的蝉鸣都从打开的门涌入，他看不清她的脸。

“额什么事？”阿二有点窘迫。“这里是借教室的地方么？”女生往前迈了一小步，脚步有些迟疑。“啊是。申请表填了吗？”“填了。”女生走进来带上门，阿二看清了她的样子。

可是借教室的系统坏了，阿二要需要编一个程序统计一下用了多少教室。

## 题目描述

每份申请表上有需要借的教室数`n`，以及借用的时间段：某天的`t1`到某天的`t2`（以分钟为单位）。假设借用的时间都是同一周，用00到66表示周日到周六（以周日作为每周的第一天）。请问最少已经借用了多少间教室？

## 输入格式

多行输入，表示多份申请表。

对于每行输入，格式为`n d1 h1:m1 d2 h2:m2`，相邻之间用空格隔开。`n`表示申请借用的教室数；`d1`和`d2`表示借用的开始日期和结束日期，是00到66之间的整数；`h1:m1`和`h2:m2`表示借用的开始时刻（包含）和结束时刻（包含），24小时制，23:5923:59是当天的最后一分钟，不足两位的补前导00。

## 输出格式

一个整数，表示满足申请要求的最少外借教室数。

## 输入样例

```
2 1 12:00 1 16:00
1 0 18:00 1 18:00
1 1 17:30 1 21:30
1 3 08:00 6 20:00
```

## 输出样例

```
3
```

## 数据范围

`n`是不大于10的正整数，申请表的份数不超过105105。保证输入的借用时间段合法，即开始时间不在结束时间之后。

*AUTHOR：罗慧诗*

## 思路

先根据起始和终止时间做差分， 最后再取一次前缀和，数组中最大的数即为所求

# `J` AC coding

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

小C同学对我们所使用的OJ系统十分感兴趣，他很好奇OJ系统是如何判题的，由于不太会编程，所以小C只好找到了聪明的你，请你帮他实现一个简易的判题程序。

请你实现一个简易的OJ评测程序，给出每道题目测试点的标准答案和用户所提交程序的输出结果，你需要评判以下三种情况：（为简化要求，规定每个测试点的标准答案和用户的输出均为一些**整数**，即不出现字母、字符等）

- **Accepted**：用户输出与标准答案**完全一致**（行数相同，每行对应相等）
- **Presentation Error**：输出的结果完全正确（数字的值和个数），但分隔符（即换行`'\n'`，空格`' '`，回车`'\r'`和制表符`'\t'`）的种类，数量或者顺序不一致。注意：在本题中，行尾出现多余的空格也算作错误，除非标准答案行尾也有相同数量的空格。
- **Wrong Answer**：一切不符合前两种类型的情况，即用户输出的数字**个数**或**数值**与标准答案不同。

给出每个测试点的标准输出和用户的输出，请你比对二者并给出评测结果。

*注：本题中对PE的规定与实际的accoding OJ判题机制不一定完全相同*

## 输入格式

输入数据的第一行为两个整数mm和nn，中间以一个空格隔开，分别为标准答案和用户输出的行数。

而后为m+nm+n行，前mm行是标准答案，后nn行是用户提交的程序输出。每行包括数字`0-9`，空格`' '`，制表符`'\t'`等。

**每行的末尾都一定有`'\n'`，包括测试数据的最后一行！**

## 输出格式

一共一行一个字符串，为评测反馈结果。

## 输入样例

样例1

```
3 3
2
1 2 3
2 3 4
2
1 2 3
2 3 4
```

样例2

```
1 1
1 2 3 4 5
1 2 3 4 5 
```

样例3

```
1 1
100
    100
```

样例4

```
2 1
3
2
3 2
```

样例5

```
1 1
1 26
12 5
```

## 输出样例

样例1

```
Accepted
```

样例2

```
Presentation Error
```

样例3

```
Presentation Error
```

样例4

```
Presentation Error
```

样例5

```
Wrong Answer
```

样例说明：第2组样例的用户输出（样例最后一行）比标准答案（样例第二行）末尾多一个空格，因此判为PE。

## 数据范围与约定

标准输出和用户输出均不超过100行，每行不超过1000个字符(末尾的换行符**未**在此处计入)。每个整数**不一定**在`int`或`long long`范围内。（不要试图用`int`或`long long`数组存下输出中的每个整数）

所有的标准答案和用户输出只包括数字(`0-9`)和分隔符(空格`' '`，换行符`'\n'`，回车符`'\r'`和制表符`'\t'`)

## 提示

1. 请用`gets`或者`fgets`函数读取整行的字符串。（两者可以都试试，体会一下区别）
2. 读完第一行的整数后记得用`while (getchar() != '\n');`或者`gets(laji);`清除残留的换行符。
3. 注意行尾可能有`'\r'`。
4. 字符数组长度别再只开1000整了，绝对过不了的，多开几个元素没坏处（给`'\r'`, `'\n'`还有字符串末尾的`'\0'`的位置留了吗？）

在本题中PE的本质就是每个数之间间隔的分隔符不同，可以考虑将两个数之间无论多少个分隔符都当做一个空格处理(存入新的字符串中)，如果标准答案和用户输出完全一致且没有AC即可判定为PE。（思考：将分隔符全滤掉直接拼接数字行不行？）

*AUTHOR: 董翰元*

## 思路

字符串处理，主要是注意这题不要故意去掉`\r` ，这玩意儿就是要用来判断的文本内容之一

# `K` 大数 popcount

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

在位运算相关的题目中，popcount(n) 是一个很重要的函数。对于给定的非负整数 n，popcount(n) 返回 n 的二进制表示中 1 的个数。

例如，299299 的二进制表示为 (299)2=100101011，因此 popcount(299)=5。

现在有 qq 次询问，每次询问会给出一个非负整数 n，你需要计算 popcount(n) 的值。

## 输入格式

第一行一个正整数 q（1≤q≤1,000），表示询问的个数。

接下来的 q 行，每行一个非负整数 n（1≤n≤101000）。

保证所有 n 在十进制表示中的长度之和不超过 5,000，且不存在前导零。

## 输出格式

对于每个询问，输出一行一个整数 popcount(n)。

## 样例输入

```
4
2
7
299
1112345678999
```

## 样例输出

```
1
3
5
20
```

*Author：廖纪童*

## 思路

高精度进制转换例题，直接模拟短除法即可

# `L` 蟠桃大会

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目背景

明曰方舟的周年庆还没到，各大论坛里的老哥们就已经开始争先恐后的吃起了桃子。作为本月最大的黑马，W，将对当前的桃王凯尔希洛蒂发起挑战。

## 题目说明

有若干个标有不同编号盘子，每个盘子里有一定数量的桃子，每在一个盘子里吃掉一个桃子就可以得到等同于盘子编号的分数。

现在W有mm次行动机会，每次最多可以挑选nn个不同编号的盘子，从每个盘子里吃掉一个桃子。请问mm次行动结束后，W最多能拿到多少分？

答案可能很大，请对100007100007取模。

## 输入

第一行两个整数mm和nn

接下来若干行，每行两个整数aa和bb，aa代表盘子的编号，bb代表在开始时盘子里桃子的数量

0<m,n,a,b<1080<m,n,a,b<108，盘子个数不超过105105个

## 输出

一个整数，W最多能拿到多少分（答案对100007100007取模）

## 输入样例

```
3 3
3 4
4 2
1 2
```

## 输出样例

```
19
```

## 样例说明

第一次吃编号1、3、4盘子里的桃子，拿8分

第二次吃编号1、3、4盘子里的桃子，拿8分

第三次吃编号3盘子里的桃子，拿3分

## HINT

祝大家五一快乐，刀客塔们十连出货。

59662755

*Author: 李日乾*

## 思路

贪心+排序的经典问题

- 在桃子足够多的时候，最多可以拿m\*n个桃子；每一种桃子最多只能拿m个
- 在拿的时候，自然是要优先拿走更多数字更大的桃子，所以要采用`qsort`进行排序
- 注意数据范围，虽然结果在`int`范围内，但是每一盘拿走的桃子个数*编号的数值可能超过`int`表示范围

# `M` 遥不可及的军训

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目介绍

航空航天大类一共有三个学院，未来的某一天要进行军训，需要按照不同的学院进行分为不同的连队。

现在假设有`N`个同学排成一队，需要把他们按照`(1,2,3)`的顺序重新排好队，那么最少需要多少次同学两两交换位置？

要求队伍朝向不改变，只能进行两两交换，最终队伍按顺序(从小到大)排列

## 输入格式

第一行，一个数`N`，之后`N`行每行一个整数，用`1,2,3`三个数字中的一个表示这个位置同学的学院

## 输入样例

```
4
2
1
3
3
```

## 输出样例

```
1
```

## 样例解释

只需要一次交换，就可以让同学们按要求排好队

排好的队伍为

```
1 2 3 3
```

## 数据范围

正整数`N`不超过1000

## HINT

为了方便处理，可以先把排好后的队伍求出来，然后按某种顺序进行交换就可以啦

Auther：雒子清

## 思路

贪心，3一定往后排，在该排1和2的时候发现3了就加上

对应的该排1的时候发现了2和该排2的时候发现了1，这两个取最大者

两项加和即为所求

# `N` Serein的扫雷游戏

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

SereinSerein 终于盼到了五一假期，他说让我们一起来玩扫雷游戏！

给定一个代表游戏面板的二维字符阵。 `'M'`代表一个未挖出的地雷，`'E'`代表一个未挖出的空方块，`'B'`代表没有相邻（上，下，左，右，和所有4个对角线）地雷的已挖出的空白方块，数字（`'1'`到` '8'` ）表示有多少地雷与这块已挖出的方块相邻，`'X'`则表示一个已挖出的地雷。

现在给出表示初始游戏面板的二维字符阵和下一个点击位置（用行和列索引表示），根据以下规则，返回相应位置被点击后对应的游戏面板：

- 如果一个地雷（`'M'`）被挖出，游戏就结束了——把它改为`'X'`；
- 如果一个没有相邻地雷的空方块（`'E'`）被挖出，修改它为（`'B'`），并且所有和其相邻的方块都应该被递归地揭露；
- 如果一个至少与一个地雷相邻的空方块（`'E'`）被挖出，修改它为数字（`'1'`到`'8'`），表示相邻地雷的数量；
- 如果在此次点击中，若无更多方块可被揭露，则返回游戏面板。

## 输入

第一行两个由空格分隔的非负整数 ，表示字符阵的行数 `N` 和列数 `M`。

接下来 `N` 行字符串 ，表示二维字符阵。

最后一行两个由空格分隔的非负整数，表示下一个点击位置。(行与列的下标均从 **0** 开始)

数据范围：2≤N,M≤2502≤N,M≤250

## 输出

输出`N`行，表示相应位置被点击后对应的面板。

## 输入样例1

```
4 5
EEEEE
EEMEE
EEEEE
EEEEE
3 0
```

## 输出样例1

```
B1E1B
B1M1B
B111B
BBBBB
```

## 输入样例2

```
4 5
B1E1B
B1M1B
B111B
BBBBB
1 2
```

## 输出样例2

```
B1E1B
B1X1B
B111B
BBBBB
```

## HINT

- 点击的位置只能是未被挖出的方块 (`'M'`或者`'E'`)，这也意味着面板至少包含一个可点击的方块。
- 输入面板不会是游戏结束的状态（即有地雷已被挖出）。
- 简单起见，未提及的规则在这个问题中可被忽略。例如，当游戏结束时你不需要挖出所有地雷。

*AUTHOR: 胡湘鹏*

## 思路

直接用队列进行搜索即可

# `O` 谁是19王

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

有一天，YangHui 和秋月为了争夺飞梦自救群19王的称号，展开了一场对弈。

规则很简单：二人面对一个 n×nn×n 的棋盘，每次每人需落 nn 个子，但这 nn 个子必须彼此不同行不同列，否则就出局。

比赛开始，YangHui 率先落下了 nn 个棋子，而一边看热闹的 aikx 突然想知道秋月的下一手棋一共有多少种不同落子的方法。

答案可能很大，请对质数 1,000,000,0071,000,000,007 取模。

## 输入

第一行，一个正整数 nn，表示棋盘的大小。

接下来 nn 行，每行 nn 个数字，其中`1`代表该位置已落子，`0`代表未落子。

## 输出

一个整数，代表答案。

## 输入样例

```
3
1 0 0
0 1 0
0 0 1
```

## 输出样例

```
2
```

## 数据范围

对于50%50%的数据，n≤10n≤10;

对于80%80%的数据，n≤100n≤100;

对于100%100%的数据，n≤1000n≤1000.

*AUTHOR: aikx*

## 思路

经典的n错排问题应用，dp方程直接看代码即可

# `P` 智能复读机

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

BUAA飞梦群每天都充满了欢声笑语。但和其它群一样，飞梦群也有许多复读机群友，其中最活跃的就是 FF、GG、CC 三位同学。他们的复读方式各有不同：

FF 同学每次发言时都会在正常发言内容外面套一层括号，复读也是如此；

GG 同学会在发言内容前面加上 `BuZhun` ；

CC 同学会在发言内容后面加上 `Grass`。

在三名活跃的复读机之外还有一些有趣的群友：

PP 同学每次出现必然是发图，而在 PP 同学发图结束之后，下一位同学会说：`xjj!` 。

TT 同学是群史官，会把群友的发言截图并在适当的时候发出来迫害。TT 同学发表截图的格式是：`[img]:发言人:"发言内容"` 。而在 TT 同学发过语录后，后面的同学会把截图里面的言论完整复读一遍。

但是，如果 TT 同学迫害 FF、GG、CC 同学时被迫害对象发现了（即 TT 同学发言的下一条即为受害者的发言），三位同学里的受害者就不会复读自己的语录了。FF 同学会说：`ShaGuangFuHuaRen` ，当然这句话外面也要套一层括号；GG 同学会说：`BuZhunGaoTu`，这句前面就不再加 GG 同学的口头禅了。而CC 同学会打出一个`?` ——当然，在最后也会加上他的口头禅。

现假设某一段时间内， FF、GG、CC 同学都只开启了复读模式，PP 同学这段时间只会发图，TT 同学每次也只会发语录截图。

现在 TT 同学想统计一下这一段时间内群友的发言，但是他发现他的数据丢失了一些——具体来说，是所有FF、GG、CC 同学的发言记录都丢失了，请你帮他把 FF、GG、CC 同学缺少的发言补上。

## 输入格式

多行输入，每行一个字符串，为 TT 同学存下的聊天记录。

聊天记录格式如下：

```
发言人:发言内容
```

其中，发言人的备注为一个字母（区分大小写）。

## 输出格式

按时间顺序以聊天记录的格式输出补上的 FF、GG、CC 同学的发言。

## 输入样例

```
H:Princess Connect! Re:Dive
F:
D:na))))))))
G:
F:
C:
P:[img]:KaguraMea.jpg
P:[img]:MinatoAqua.jpg
Y:xjj!
k:xjj!
C:
P:[img]:Alice.jpg
F:
T:[img]:F:"(ywwuyi died)"
G:
T:[img]:C:"waht?Grass"
C:
F:
```

## 输出样例

```
F:(Princess Connect! Re:Dive)
G:BuZhunna))))))))
F:(BuZhunna)))))))))
C:(BuZhunna)))))))))Grass
C:xjj!Grass
F:(xjj!)
G:BuZhun(ywwuyi died)
C:?Grass
F:(?Grass)
```

## 样例解释

HH 同学发了一句，FF 给它加了个括号。之后 DD 说了一句，GG、FF、CC 均按规则接着上一个人的发言复读。之后到了 kk 同学发言，CC 按规则复读。然后 PP 发图，FF 在按规则响应时给自己发言套上括号。然后 TT 发了 FF 的语录，GG 按规则复读了语录，TT 又发了 CC 的语录，CC 按规则响应后按自己的规则复读，然后 FF 继续给 CC 的发言套上括号，结束。

## 数据范围

每人的发言内容（不含前面的发言人备注和英文冒号）均为可显示字符，长度不超过502（想想为什么是502而不是500），发言条数总共不超过500条，且除了三位复读机外其他同学的发言内容至少有一个字符。

聊天记录不会从 FF、GG、CC 同学的发言记录开始，且 TT 同学不会紧接着 PP 同学发言(tu)。

TT 同学存储的聊天记录中，发言内容仅为可显示字符，且不含双引号（ASCII码为34）。

## HINT

小心`\r`。

PP 同学可能一次会发很多图。

每一位群友都可能成为 TT 同学迫害的对象。

有些时候，几个复读机在一起就能复读出99+。

有些时候，有些同学发的信息是“空白”的。

（这次不许再问数据坑点是什么了）

*Author:刘裕炜*

## 思路

字符串处理问题，主要是注意处理的分类讨论顺序，以及`\r`的问题

# `Q` 数字点读机

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

英语六级口语考试（半年后）即将来临，小明担心自己不会用英文读数字，请你教教他各个数字的英文读法。

读法规定如下：

- 个位数：`zero`,`one`,`two`,`three`,`four`,`five`,`six`,`seven`,`eight`,`nine`
- 十几：`ten`,`eleven`,`twelve`,`thirteen`,`fourteen`,`fifteen`,`sixteen`,`seventeen`, `eighteen`,`nineteen`
- 整十数：`twenty`,`thirty`,`forty`,`fifty`,`sixty`,`seventy`,`eighty`,`ninety`
- 几十几：十位数和个位数之间用`-`连接，如21读作`twenty-one`
- 百：`hundred`后面的数字要加`and` 如101读作`one hundred and one`
- 千：`thousand`后面的数字要加逗号`,` 如1001读作`one thousand, one`
- 万以上：每三位一组读，在千位、百万位、十亿位加相应单位`thousand`,`million`,`billion` 后面要加英文标点逗号`,`

## 输入

多组输入，每行一个非负整数nn，0≤n<10120≤n<1012

## 输出

每组数据输出一行字符串，表示nn的英文读法

## 输入样例

```
0
34
113
8600
10101011000
1234567
```

## 输出样例

```
zero
thirty-four
one hundred and thirteen
eight thousand, six hundred
ten billion, one hundred and one million, eleven thousand
one million, two hundred and thirty-four thousand, five hundred and sixty-seven
```

## HINT

注意空格和逗号

*Author：罗梓浩*

## 思路

暴力模拟，查询一下哪些单位输出过，分类讨论即可

# `R` 计算字符串匹配度

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目介绍

BLEU是机器翻译任务中常用来评估模型生成的句子(candidate)和实际句子(reference)的匹配度的指标。常用计算公式为：
$$
\mathrm{BLEU} = \mathrm{BP} \times \mathrm{e} ^ {\sum _{n = 1} ^ N W_n \times \log_2 P_n}
$$
现对其计算过程做一定简化和改动，请**务必按以下步骤**计算：

①从标准输入中依次读入权重W1、W2、W3、W4W1、W2、W3、W4和字符串candidate、字符串reference。

②计算长度惩罚项BP：
$$
\mathrm{BP}=
\begin{cases}
1,	~~~~&l_c \gt l_r \\
e^{1-\frac{l_r}{l_c}},	~~~~&l_c \le l_r
\end{cases}
$$


其中，lclc为candidate长度，lrlr为reference长度。

③计算PnPn，其计算方式为：

I.以candidate的第一个字符为起点。

II.以包含起点在内的**连续的n个字符**作为候选子串，尝试在reference中匹配，若匹配到该子串，则reference中的该子串之后不再参与匹配，并以candidate中该候选子串的最后一个字符的下一个字符为新的起点；若未匹配到，则以起点的下一个字符为新的起点。如果candidate中以新起点为起始字符的任意连续子串长度均小于n，则跳到步骤III，否则重复步骤II。

III.计算整个过程中的命中率，其计算方式为：$\cfrac{\text{匹配成功的次数}}{\text{尝试匹配的次数}}$

④计算BLEU，其计算方式为：
$$
\mathrm{BLEU} = \mathrm{BP} \times \mathrm{e} ^ {\sum _{n = 1} ^ 4 W_n \times \log_2 P_n}
$$


注：①若恰好匹配完candidate中所有字符，则新的起点为'\0'，此时以新起点为起始字符的子串的长度为0。

②在reference中删去某子串后，该子串前面一个字符和后面一个字符之间依然不连续。

③若对步骤存在疑惑，可结合样例说明进行理解。

④为了简化操作方便理解，本题对BLEU的计算过程进行了魔改，对原算法感兴趣的同学可以再多做了解。

## 输入格式

三行输入。

第一行输入字符串candidate。

第二行输入字符串reference。

第三行输入4个以空格分隔的浮点数，分别为权重W1、W2、W3、W4 。

## 输出格式

输出1个浮点数，为candidate和reference的BLEU计算结果，保留4位小数。

## 输入样例1

```
I have a pen.
I have an apple.
0.25 0.25 0.25 0.25
```

## 输出样例1

```
0.3065
```

## 输入样例2

```
This is a test, haha.
This is not a test.
0.2 0.3 0.2 0.3
```

## 输出样例2

```
0.3283
```

## 数据范围

字符串长度均不超过10000，其中只包含可见字符。

## 样例1说明

以P2P2为例：

![image-20200427193547457.png](https://i.loli.net/2020/04/27/PZzYAOQk8CaJpFV.png)

故P2=48P2=48 = 0.5。

*Author：曹博文*

## 思路

模拟字符串处理即可

需要分类讨论

# `S` 检测数码管

时间限制：500ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

qxforever 在《电子设计基础训练》课上学习了七段数码管的使用方法。数码管能够方便的显示出 00 到 99 的数字。以下是每个数字的表示形式。

![img](https://s1.ax1x.com/2020/04/25/JrqJbQ.png)

假设 LED 手表的屏幕由四个七段数码管（表示小时和分钟）和中间两个短管（表示冒号 `:` ） 组成。

手表上显示的时间可以抽象为 77 行长度为 2121 的字符串。每个七段数码管用 7×47×4 （ 77 行 44 列）的字符串表示，数码管与数码管或冒号之间用一列 `.` 隔开。每个数码管由两个字符表示，冒号上下各用一个字符表示。`X` 代表这段数码管是亮的，`.` 代表其他情况（这段数码管灭或者非数码管位置）。以下是 20:3620:36 的表示

```
.XX...XX.....XX...XX.
...X.X..X......X.X...
...X.X..X.X....X.X...
.XX..........XX...XX.
X....X..X.X....X.X..X
X....X..X......X.X..X
.XX...XX.....XX...XX.
```

其中，第 1−41−4 列表示 22，第 6−96−9 列表示 00 ，第 1111 列表示冒号 ，第 13−1613−16 列表示 33 ，第 18−2118−21 列表示 66 。

现在手表出了故障，有些数码管不能正常工作，可能表现为永远亮或永远灭。不会存在非数码管位置亮的情况。

给你**连续** nn 分钟的手表的显示情况，请编写一个程序判断数码管的状态。

## 输入

第一行一个正整数 nn ( n≤100n≤100 )，含义如上所述。

接下来 7n7n 行，每行一个长度为 2121 的字符串，表示手表的显示情况。每分钟之间以一个空行分隔。

## 输出

如果给出的情况是不可能发生的，输出 `impossible` 。

否则按以下规则输出 77 行长度为 2121 的字符串。 如果对应位置的数码管正常工作，输出 `W` ；对应位置的数码管永远灭，输出 `0` ; 对应位置的数码管永远亮，输出 `1` ；对应位置的状态不能确定，输出 `?` 。对于非数码管的位置，输出 `.` 。

## 输入样例

```
3
......XX.....XX...XX.
.....X..X...X..X....X
.....X..X.X.X..X....X
.............XX...XX.
.....X..X......X.X..X
.....X..X......X.X..X
......XX.....XX...XX.

......XX.....XX...XX.
.....X..X...X..X....X
.....X..X.X.X..X....X
.............XX...XX.
.....X..X......X.X..X
.....X..X......X.X..X
......XX.....XX...XX.

.............XX...XX.
........X...X..X....X
........X.X.X..X....X
.............XX......
........X...X..X.X..X
........X...X..X.X..X
......XX.....XX...XX.
```

## 输出样例

```
.??...WW.....??...??.
?..?.W..?...?..1.0..?
?..?.W..?.?.?..1.0..?
.??...??.....11...WW.
?..?.W..?.0.W..?.1..?
?..?.W..?...W..?.1..?
.??...11.....??...??.
```

## 输入样例2

```
2
......XX.....XX...XX.
...X....X...X..X.X..X
...X....X.X.X..X.X..X
......XX..........XX.
...X.X....X.X..X.X..X
...X.X......X..X.X..X
......XX.....XX...XX.

......XX.....XX......
...X....X...X..X.....
...X....X.X.X..X.....
......XX.............
...X.X....X.X..X.....
...X.X......X..X.....
......XX.....XX......
```

## 输出样例2

```
impossible
```

## HINT

样例一中可能的情况有 (0:58,0:59,1:00) (10:58,10:59,11:00) (20:58,20:59,21:00)

*AUTHOR: 冯玮琪*

## 思路

具体分为多个步骤

(1)首先根据题目的样例，推断出0到9分别表示的是什么管，然后推出7行21列的电子显示屏是什么样子

(2)接下来，直接穷举所有的可能性。只要不出现非法的情况，就认为是一种合法的情况。 我们将该出现’.’的时候出现了’X’,或者该出现’X’的时候却出现了’.’，视为一种故障。 那么非法的情况就是:任何一个显示管，在故障的同时，同时在这段时间内出现过’.’和’X’

那么合法的情况，具体判断每个晶体管是否是故障的情况是这样的:

非显示管的部分根据题意，不会出现亮或者灭，对应的就直接是’.’ 如果这个管是故障的，一直是’.’，对应的就是’0’;反之如果一直是’X’，对应的就是’1’ 如果这个管不是故障的，但是只出现过’.’或者只出现过’X’，那么我们没法因此判断是不是全量全灭正常工作，对应的就是’?’ 如果这个管不是故障的，同时出现过了’.’和’X’，那么可以判断是正常工作的，对应的是’X’

(3)接下来考虑，如果出现了多种解释合法的情况。 如果所有的合法情况当中，同一个显示管所有的判断情况都是一样的，则该情况就可以认定为这个状态 否则，如果出现了不一样的判断情况，那么就应该将状态修改为’?’(多种情况不能判断是哪个，不确定是显然的)

# `T` 你最好在天黑前找点吃的

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目背景

小Z迷上了饥荒联机版。

这是一款荒岛生存类沙盘游戏，下面将简要叙述玩法（以题目为准！）：游戏里的人物有三种数值：饥饿值，精神值，生命值，简称三围。人物会受到怪物的攻击，但是可以穿上装备分担部分伤害，也可以通过吃料理来回复三围，但也有可能吃到不好的东西（类似于奥利给）导致三围减少。

还有一种持续改变三围的可能，比如持续加血，持续减血。当人物生命值为0时，会死亡。

## 题目描述

对于一次游戏，可能出现以下8种指令，来描述游戏内的状态（a，b，c，n，t代表一个整数，t表示从游戏开始到这条指令经过的时间，单位为min）：

- GAME_START a b c 人物进入游戏，三围上限分别为a点饥饿值，b点精神值，c点生命值，游戏开始时（即t=0时）为满三围的状态（a，b，c均小于等于300）
- EQUIP t a b tmin时人物穿戴上装备，对于每次攻击可以免伤a%，一共可以免伤b点生命值（例，a=80 b=160 若人物受到一次100点伤害的攻击，装备会抵消80，耐久减半，人物生命值只会减少20； 若人物受到一次200点伤害的攻击，装备会抵消160，并且报废，人物生命值只会减少40； 若人物受到一次300点伤害的攻击，装备会抵消160，并且报废，人物生命值只会减少140 如果在旧装备没有报废之前穿戴新装备，会自动将旧装备视为报废）
- EAT t a b c tmin时人物吃了料理，并回复a点饥饿值，b点精神值，c点生命值
- BEATTACK t a tmin时人物受到a点伤害的攻击一次
- SAN_UP t a tmin时人物增加一个每分钟回a点精神值值得buff，不会消失，可以叠加，下同
- SAN_DOWN t a tmin时人物增加一个每分钟减少a点精神值得debuff
- HP_UP t a tmin时人物增加一个每分钟回a点生命值值得buff
- HP_DOWN t a tmin时人物增加一个每分钟减少a点生命值值得debuff
- Q t n 系统做出一个询问，请输出tmin时的三围中的一个，n=1时输出饥饿值，n=2时输出精神值，n=3时输出生命值。（保证这条指令的t在前后两条指令之间，包括前后两条指令的时间）

特殊规定，因为游戏中影响饥饿值下降的因素很多，在此规定，本题中，饥饿值将以每分钟10点的恒定速度下降（吃东西可能导致瞬间减少），直至降为0，从饥饿值降为0的时刻开始，每秒钟扣除1点生命值，即生命值以每分钟60点的速度。

对于三围，做出以下约定，三围中的任何一个值不可能超过上限，也不可能小于0，当超过上限时按上限计算，小于0时按0计算。

## 输入格式

多行输入，每行一个指令。

在此约定，GAME_START指令会且只会在第一行出现一次。

每组数据中的指令数不超过1000条。

## 输出格式

有两种输出：

- 若人物在某两条指令之间的时间死亡，输出GAME_OVER，不运行后续的操作，游戏结束；否则，在最后输出WIN。
- 若人物已经死亡，不用输出，否则，对于每一个Q打头的指令，输出一行，代表此时询问的三围值。

## 输入样例

```
GAME_START 120 120 200
EQUIP 1 80 750
BEATTACK 3 75
BEATTACK 4 75
BEATTACK 5 150
Q 5 3
SAN_DOWN 5 10
EAT 5 25 0 3
EAT 5 25 0 3
EAT 7 25 0 3
EAT 7 25 0 3
Q 8 1
SAN_UP 8 10
Q 8 2
Q 8 3 
BEATTACK 9 250
Q 9 3
BEATTACK 10 250
EAT 10 75 5 40
EAT 10 75 5 40
EAT 10 0 0 20
BEATTACK 11 250
Q 11 3
HP_UP 11 60
Q 14 3
Q 15 3
HP_DOWN 15 60
Q 16 3
Q 25 1
Q 25 3
Q 30 3
```

## 输出样例

```
140.00
110.00
90.00
152.00
102.00
12.00
192.00
200.00
200.00
0.00
20.00
GAME_OVER
```

## 样例解释

样例完成每条指令后的三围

```
120.00 120.00 200.00
110.00 120.00 200.00
90.00 120.00 185.00
80.00 120.00 170.00
70.00 120.00 140.00
70.00 120.00 140.00
70.00 120.00 140.00
95.00 120.00 143.00
120.00 120.00 146.00
120.00 100.00 149.00
120.00 100.00 152.00
110.00 90.00 152.00
110.00 90.00 152.00
110.00 90.00 152.00
110.00 90.00 152.00
100.00 90.00 102.00
100.00 90.00 102.00
90.00 90.00 52.00
120.00 95.00 92.00
120.00 100.00 132.00
120.00 100.00 152.00
110.00 100.00 12.00
110.00 100.00 12.00
110.00 100.00 12.00
80.00 100.00 192.00
70.00 100.00 200.00
70.00 100.00 200.00
60.00 100.00 200.00
0.00 100.00 20.00
0.00 100.00 20.00
```

*AUTHOR：郑乔*

## 思路

根据不同的游戏指令分别讨论情况即可

本题数据范围较弱，很多可能要考的坑点也没考，敢写敢对
