# C9-2015级C++第九次上机

# `A` Obsessive Compulsive Disorder

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

wjh是一个有强迫症的人。他最多容忍允许一个数字中出现0-k中的数字(k<9)。
你们能告诉他由0,1,2,...k这些数字组成的第n小的正整数字是多少么？

## 输入

多组测试数据。 对于每组数据，输入为一行，两个数字为k,n(1<=k<=8,n为int范围内的正整数)。

## 输出

对于每组数据，输出一行，为题目描述中要求的数字。

## 输入样例

```
2 3
1 4
```

## 输出样例

```
10
100
```

## 思路

进制转换

# `B` 奖学金

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

某小学最近得到了一笔赞助，打算拿出其中一部分为学习成绩优秀的前5名学生发奖学 金。期末，每个学生都有3门课的成绩：语文、数学、英语。先按总分从高到低排序，如果两个同学总分相同，再按语文成绩从高到低排序，如果两个同学总分和语 文成绩都相同，那么规定学号小的同学排在前面，这样，每个学生的排序是唯一确定的。
任务：先根据输入的3门课的成绩计算总分，然后按上述规则排序，最后按排名顺序输出前5名学生的学号和总分。注意，在前5名同学中，每个人的奖学金都不相 同，因此，你必须严格按上述规则排序。例如，在某个正确答案中，如果前两行的输出数据(每行输出两个数：学号、总分)是：
7 279
5 279
这两行数据的含义是：总分最高的两个同学的学号依次是7号、5号。这两名同学的总分都是279(总分等于输入的语文、数学、英语三科成绩之和)，但学号为7的学生语文成绩更高一些。如果你的前两名的输出数据是：
5 279
7 279
则按输出错误处理，不能得分。

## 输入

多组输入数据，每组输入包含n+1行：
第l行为一个正整数n，表示该校参加评选的学生人数。 (5<=n<=1000)
第2到年n+l行，每行有3个用空格隔开的数字，每个数字都在0到100之间。第j行的3个数字依次表示学号为j-1的学生的语文、数学、英语的成绩。每个学生的学号按照输入顺序编号为1～n(恰好是输入数据的行号减1)。
所给的数据都是正确的，不必检验。

## 输出

输出共有5行，每行是两个用空格隔开的正整数，依次表示前5名学生的学号和总分。

## 输入样例

```
6
90 67 80
87 66 91
78 89 91
88 99 77
67 89 64
78 89 98
8
80 89 89
88 98 78
90 67 80
87 66 91
78 89 91
88 99 77
67 89 64
78 89 98
```

## 输出样例

```
6 265
4 264
3 258
2 244
1 237
8 265
2 264
6 264
1 258
5 258
```



# `C` 比例简化

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

在社交媒体上，经常会看到针对某一个观点同意与否的民意调查以及结果。例如，对某 一观点表示支持的有 1498 人，反对的有 902 人，那么赞同与反对的比例可以简单的记为1498:902。
不过，如果把调查结果就以这种方式呈现出来，大多数人肯定不会满意。因为这个比例的数值太大，难以一眼看出它们的关系。对于上面这个例子，如果把比例记为 5:3，虽然与 真实结果有一定的误差，但依然能够较为准确地反映调查结果，同时也显得比较直观。
现给出支持人数 A，反对人数 B，以及一个上限 L，请你将 A 比 B 化简为 A’比 B’，要求在 A’和 B’均不大于 L 且 A’和 B’互质（两个整数的最大公约数是 1）的前提下，A’/B’ ≥ A/B 且 A’/B’ - A/B 的值尽可能小。

## 输入

多组测试数据
每组输入共一行，包含三个整数 A，B，L，每两个整数之间用一个空格隔开，分别表示支持人数、反对人数以及上限。
1 ≤ A ≤ 1,000,000，1 ≤ B ≤ 1,000,000，1 ≤ L ≤ 100，A/B ≤ L。

## 输出

对于每组数据，输出一行，包含两个整数 A’，B’，中间用一个空格隔开，表示化简后的比例。

## 输入样例

```
1498 902 10
```

## 输出样例

```
5 3
```

## 思路

数据范围足够小，于是首先对A和B约分，然后枚举A'和B'，使得两者比值是小于等于A/B当中的最大者即可

# `D` War

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

战争是一种集体和组织互相使用暴力、虐袭的行为，是敌对双方为了达到一定的政治、经济、领土的完整性等目的而进行的武装战斗。由于触发战争的往往是政治家而非军人，因此战争亦被视为政治和外交的极端手段。
今天我们来谈谈战争吧，给定你一个时间段以及期间发生的战争，你能找出哪一年没有战争嘛。

## 输入

多组测试数据。 对于每一组数据刚开始有一行三个数字N,p,q。
p,q (0 <= p <= q <= 400000)为查询的时间段。N(1<=N<=100)，为期间发生的战争场数。
接下来有N行，每行有两个a,b（p<=a<=b<=q），为战争的开始与结束时间。

## 输出

对于每组数据，输出一行，为时间段内没有战争的最小一年。
若该时间段内均有战争，输出“War,war never changes.”

## 输入样例

```
3 100 200
100 120
110 140
141 199
```

## 输出样例

```
200
```

## 思路

这题只需要最后一次得到结果，但是前面的操作数量较多，直接模拟是不可能AC的

采用并查集/线段树均可以通过此题，这需要做题者对数据结构有一定的认知

不需要上述知识的一种做法就是对所有的区间进行离散化的处理，从左到右排序之后依次比较

本代码采用的就是并查集的做法

**补充：不需要任何数据结构的做法则是差分算法（可以自行百度），差分之后，直接从左到右计算前缀和即可，只要发现战争次数为0的，则理科输出并停机。**

# `E` 哥德巴赫猜想

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

想必大家一定都知道哥德巴赫猜想吧！当当当当，就是他：

Every even number greater than 4 can be written as the sum of two odd prime numbers.

额，还是翻译成中文吧：任何一个大于4的偶数都能被分解为两个素数之和。

现在，我们来证明他吧O(∩_∩)O~（有点难？没关系，我们只证明1000000以内的）

## 输入

多组输入数据
每组一个数据，为n（4<n<=1000000）

## 输出

对于每组数据，将其分解为两个质数之和，并按照样例输出。
若有多种可能取第一个素数最小的一种。

## 输入样例

```
8
20
42
```

## 输出样例

```
8 = 3 + 5
20 = 3 + 17
42 = 5 + 37
```

## 思路

多组查询，所以暴力判断质数必然过不了

先用埃式筛法得到所有的质数，然后再从质数表上进行枚举

# `F` 求n阶矩阵

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

根据数字输出相应的矩阵，使得沿着矩阵的右上至左下或者左下至右上的方向得到的数字串是从0到n*n-1的顺序。详情见样例。

## 输入

多组数据。 每组数据为1个数字n（1<=n<=100），数字类型为int。

## 输出

输出一个n*n的矩阵。

## 输入样例

```
1
2
4
```

## 输出样例

```
0
0 1
2 3
0 1 5 6
2 4 7 12
3 8 11 13
9 10 14 15
```

## 思路

模拟，注意枚举所有方向变化的可能性即可

# `G` microhhh的图书管理系统

时间限制：10ms  内存限制：5000kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

microhhh通过传送回到了他的基地，终于可以进行一段时间的休整了。基地中有一个超级图书馆，拥有2.1亿件藏品：其中有470种语言写成印刷品1亿多件，包括1800多万册图书；980多万册特殊图书、古版书、专著、连续出版物、乐谱、装订报纸、小册子、技术报告及其他印刷品，其中永久收藏的期刊75000种、报纸1200种；8850万件特殊收藏品，包括250万件各种录音资料、490万张地图、5500万页手稿、1330万件缩微品、1350万件可视资料，包括80万盘电影胶片、1200万张照片、85000张招贴画；40万件版画和绘画等。（猜猜这是哪个图书馆？）

借书的人们常常使microhhh很头疼，因为他们常常不把书放回原处，而是把归还的书都放在桌上，直到microhhh把书放回原位。即使是microhhh，把书放在正确的地方也非常耗时。所以microhhh需要一个程序。

当借书人借走或者归还一本书，计算机都会记录下书的书名。每隔一段时间，microhhh会向程序询问归还的书的清单，以便它们回到书架上原有的位置。在它们回到书架之前，书架上的书已经按照作者，然后是书名的 ASCII排好了序（即作者为第一关键字，书名为第二关键字排序）。程序需要输出归还的书在书架上的正确位置。对于每本归还的书，程序应该告诉microhhh书架上的哪本书（包括之前放在书架上的）在这本书之前。 现在microhhh把这个任务交给了你，请你编写一个程序。

## 输入

一组很大的数据
首先，所有书都会被列出，每本书一行，没有先后顺序。最初，它们都在书架上。任意两本书书名不同。每行格式为： 书名" by 作者
书单的结束由一行单独的END表示
接下来是借还书和microhhh的询问的记录。每条记录一行，格式如下：
BORROW 书名
RETURN 书名
SHELVE
结束由一行单独的END表示

## 输出

对每一个SHELVE，请输出如下格式：
Put 书名1 after 书名2
或者，放在第一位的书：
Put 书名 first
输出最后用单独一行END表示结束

书名最多包含80个字符
作者最多包含80个字符
书名不会包含双引号（"）

## 输入样例

```
"The Canterbury Tales" by Chaucer, G.
"Algorithms" by Sedgewick, R.
"The C Programming Language" by Kernighan, B. and Ritchie, D.
END
BORROW "Algorithms"
BORROW "The C Programming Language"
RETURN "Algorithms"
RETURN "The C Programming Language"
SHELVE
END
```

## 输出样例

```
Put "The C Programming Language" after "The Canterbury Tales"
Put "Algorithms" after "The C Programming Language"
END
```

## Hint

注意需要使用getchar等读掉多余的换行符，可能的程序框架

```
 #include<bits/stdc++.h>//使用标准C++所有头文件
 using namespace std;

 struct book
{
string author;
int status;
};

bool compare(string a, string b)
{
...
}

int main()
{

string x,z,m;
book y;
while(getline(cin,m))
{
    if(m == "END") break;
    ...
}
sort(...);
...
while(cin >> x)
{
    if(x == "END") break;
    if(x == "BORROW")
    {
        getchar();
        ...
    }
    if(x == "RETURN")
    {
        getchar();
        ...
    }
    if(x == "SHELVE")
    {
        ...
    }
}
}
```

## 思路

模拟，但是现在采用C++风格的输入输出可能会TLE，请将cin getline等全部改为scanf和fgets，然后输出采用printf即可



