# E8-2015级C++第八次练习赛

# `A` So 2

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

在学了计组之后，Thor终于认识到原来所有的整数在计算机里面都是用2进制储存的！
好了，你来把一个数x拆分成2的幂的和的形式吧，要求数尽量少，且从小到大输出。

## 输入

多组数据。
每组数据仅有1行1个整数x(MAX_INT>=x>=1)

## 输出

把x拆分成2的幂的形式，数尽量少，从小到大输出。

## 输入样例

```
3
4
5
6
```

## 输出样例

```
1 2
4
1 4
2 4
```



# `B` Lost in maze

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

Ryan的梦中情人叫做小美。

有一天小美被妖怪抓走了，Ryan听闻马上动身要去上演英雄救美的壮举。

可是当他来到妖怪的领地时，发现妖怪给自己设了一个阵，只有成功破解出这个阵，Ryan才能救出他心爱的小美。

所以请你帮Ryan判断出他能不能救出小美。

## 输入

多组测试数据。

对于每组数据，第一行是两个个数字m和n，表示该阵为m*n大小（0<m,n<=10，m为行，n为列）。

接下来是一个m*n的矩阵表示这个阵。

其中0为该阵中可走的路，1为墙（即不能走的位置），2为Ryan的位置，3为小美的位置。

Ryan只有四个可行的行走方向：即上、下、左、右。

## 输出

每组数据共输出一行，"Yes"或"No"表示Ryan是否可以成功救出小美。

## 输入样例

```
8 7
1 1 1 1 1 1 3
1 0 0 0 0 0 0
1 0 1 1 1 1 1
1 0 0 0 1 1 1
1 1 1 0 0 0 1
1 0 0 0 1 0 1
1 0 1 1 1 0 1
2 0 1 1 1 0 0
4 4
0 3 1 2
1 1 1 0
0 0 1 0
0 0 0 0
```

## 输出样例

```
Yes
No
```

## Hint

样例中Ryan成功解救小美的路线图：
![img](http://ww4.sinaimg.cn/bmiddle/5c707194jw1dz9metsy4oj.jpg)

## 思路

DFS

# `C` 防御塔的搭建

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

红萌馆为了防备敌人的入侵，决定安装一个巨型防御塔。该防御塔拥有攻击高，范围广的特点。
但是防御塔的搭建也是非常复杂的，它一共由n个部件构成（每个部件互不相同）。方便起见，给每个部件都标上一个1到n的数字。
Izayoi Sakuya花费了数天时间从各种渠道获得了这n个部件，并把它们放在地上排成一个序列p（即p为n的排列）。
为了防止在搭建防御塔过程中因找部件而浪费了大量的时间，所以Izayoi Sakuya想要对这个序列进行排序，使得最终序列p = {1, 2, ...,n}。
由于条件的限制，所以每次只能选择任意两个部件进行交换（即选择i和j,交换pi 和 pj）。设K为最小的交换次数。
现在Izayoi Sakuya还不知道排列p为多少（因为还没来得及去统计），但是她想提前知道自己的工作量大概为多少（即K的期望）。
你能帮帮她吗？最终答案为 E(K) * n! module (109 + 7)。
注意：对于任意一个p，它出现的概率都是相同的（都为 1 / n!）。

## 输入

输入数据包含多组数据，以EOF为结尾。
每组数据仅包含一行，且只有一个整数n。 0 < n ≤ 100,000

## 输出

对于每组数据，输出Case #x: y，x为当前的数据组数(x是从1开始)，y为答案。

## 输入样例

```
1
2
3
```

## 输出样例

```
Case #1: 0
Case #2: 1
Case #3: 7
```

## 思路

递推找规律的一题，比如说对于1234的全部排列，可以把1放在每个位置，放在第一个位置时，234的个数就是F（3），放在第二个位置时，需要先把1和第一个位置的数交换，然后是F（3），而有3！=6种排列，所以是F（3）+3！，后面位置同理，因此得到递推式：
F（n） = nF(n-1)+(n-1)x(n-1)!

不过你想要找规律，看单一排列任意两元素交换的最小次数，那就需要用到置换群了

# `D` Ryan's Life Game

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

Ryan最近很寂寞，没有人陪他玩，于是他自己编一个“零人游戏”——生存游戏。
游戏在n*m的细胞组成的矩阵里进行，每个细胞每个时刻的状态可能是“存活”或者“休眠”两种,细胞矩阵的状态会按以下规则进行演化：
一个存活状态的细胞，在某一秒，若周围的存活状态的细胞数目不足两个，则下一秒将由于孤独而进入休眠状态。
一个存活状态的细胞，在某一秒，若周围的存活状态的细胞数目超过三个，则下一秒将由于过度拥挤而进入休眠状态。
一个存活状态的细胞，在某一秒，若周围的存活状态的细胞数目为两或三个，则下一秒将继续保持存活状态。
一个休眠状态的细胞，在某一秒，若周围的存活状态的细胞数目为正好三个，则认为是比较适合生存的状态，将于下一秒进入存活状态。
这里“周围”的范围包括一个细胞的上、下、左、右、左上、左下、右上、右下的细胞，如果存在的话。
现在，给定一个初始状态（即第0秒时的状态），请按照规则计算第t秒时的状态

## 输入

多组测试数据。
对于每组测试数据，第一行为三个空格隔开的整数：n、m和t。（1<=n,m,t<=100）
第二行开始的n行，每行m个字符，“0”或“1”分别代表休眠状态与存活状态的细胞。

## 输出

对于每组测试数据，输出n行，每行m个“0”或“1”，表示第t秒时的状态。

## 输入样例

```
5 5 1
00000
01100
01010
00100
00000
```

## 输出样例

```
00000
01100
01010
00100
00000
```



# `E` Archaeology-Guatemala

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

我们都知道Darkness Wong是一个很有天赋的程序员。但在某个平时时空里他却变成了一个颇负盛名的考古学家。
为了研究公元2012年12月21日会发生什么事，Darkness只身一人来到了美洲进行考古研究。
他的第一站来到了危地马拉，这里是古印第安人玛雅文化的中心之一。
研究过程中，Darkness发现了一种古印第安人的加密方式和一串疑似被加密的数字，为了判断其中的信息是否有价值，他希望你能帮助他解开这些密码。
已知密码中每一个数字都可以对应一个小写字母，不难想到一串数字就能构成一个单词。
解密方式如下：
1、把数字转换成二进制数。
2、把二进制数的最右边的“1”转换成“0”。
3、把数字按字母表顺序转换成字母。如“1”转换成“a”，“26”转换成“z”。
保证密码一定是正整数，且经过第2步转换出密码一定是1到26之间的整数。

## 输入

多组测试数据。
每组测试数据共两行。第一行为一个正整数N(1<=N<=10000)，表示这是一个由N个小写字母组成的单词。
接下来N个正整数，每个正整数代表一个密码。

## 输出

对于每组数据，输出一行，这串密码对应的单词。
(小写字母间没有空格，详见样例)

## 输入样例

```
3
5 13 14
```

## 输出样例

```
dll
```



# `F` 区间排序

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

有n个区间，给这n个区间从前往后排序并输出，若区间起点一样则比较终点。详情见样例。

## 输入

多组数据。
每组数据有n+1行。
第一行有1个整数n(1<=n<=1000)
接下来n行，每行两个整数A,B(A<=B)

## 输出

输出排序之后的区间

## 输入样例

```
3
1 4
1 1
2 2
2
1 2
1 2
```

## 输出样例

```
1 1
1 4
2 2
1 2
1 2
```



# `G` 电话费

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

到了月底，晴天小猪又收到了可恶的中国移动寄来的话费账单。晴天小猪很喜欢打电话，所以 他的电话费很多。中国移动为了照顾他，给了他一个特权，就是他可以把电话费的那个数里去掉s个数字，去掉其中s个数字后剩下的数字按左右次序组成一个新的 正整数（新的数首位不能是0），才是小猪最后要交的钱。你能告诉晴天小猪他最少要交多少钱吗？

## 输入

多组测试数据（数据量在100组以内）。每组测试数据有两行，第一行为两个正整数n和s(1<=s<n<=10000)，表示电话费为一个n位正整数（首位不为0），可以去掉其中的s位。第二行为一个n位的正整数。

## 输出

对于每组输入数据输出一行，为去掉s位后的数字。

## 输入样例

```
11 3
90019008798
5 2
10000
3 1
123
```

## 输出样例

```
19008798
100
12
```

## Hint

scanf and printf are recommended!

## 思路

本题的删数是不允许有0存在的，此时就要判断前s+1个数字找到最小的作为新数字的首位，按理来说首位找到了这题不难了
后面的思路是每次出现一个数>下一个数时就删掉那个数，然后重新判断
每次把之前的比其大的数都置为‘：’(ASCII为‘9’的下一个)，然后每次依次删数直到之前出现比当前数字小的数。也就是如果还能删，就删到升序排列。当然首位确定了就不能动了。

# `H` 防御塔的完善

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

经过投入大量的人力物力之后，红萌馆的防御塔终于能够投入使用了。因为防御塔射程的限制，所以 防御塔只能起到保护红萌馆的作用，而不能利用它来进行攻击。野心勃勃的红萌馆主人remilia打算对防御塔进行改造，使得它能够完成远距离攻击手段，这 样就有把握再发动一次红魔异变。
由于Izayoi Sakuya最了解防御塔的结构，所以改造防御塔的重任就又落到了她身上。Izayoi Sakuya的初步打算是在防御塔的前面建一个魔法攻击炮台，防御塔的输出口会输出一种特殊的魔力，这种魔力都够被平炮台吸收，然后再由炮台进行分析处 理，最后决定攻击强度、攻击目标、魔法种类。这样魔法攻击炮台就会处在防御塔的保护当中了，在没有敌人威胁红萌馆安全时也可以利用防御塔和炮台的组合进行 攻击行动。
攻击炮台里面主要是一个魔力传输管道，它的长度一共为n + 2厘米，其中距离防御塔最近的1厘米用于接收防御塔的魔法能量，距离防御塔最远的一厘米用于输出攻击，剩下的n厘米用于分析魔力以及改变魔力性质。管道的 高度并不是统一的，距离防御塔i厘米到距离防御塔i+1厘米的高度为hi。当1单位魔力从高度高的管道传输到高度低的管道或者从高 度低的管道到高度高的管道会在这两个管道之间产生1单位的魔力残余，整个魔法攻击炮台进行攻击后产生的魔力残余为炮台内所有位置的魔力残余之和（从外界进 入炮台以及从炮台输出到外界时不会产生魔力残余）。如果管道内有魔力残余则不能进行攻击，因为有爆炸的风险。
已知消除1单位的魔力残余，需要等待1分钟时间，且h0 = h1, hn+1 = hn。现在Izayoi Sakuya想知道，她前一次攻击使用了k单位的魔力，至少需要等多少分钟才能再进行下一次攻击。

## 输入

输入有若干组数据，以EOF结束。
对于每组数据：
第一行有两个整数n,k。
接下来有n行，第i行有一个整数hi。
1 ≤ n ≤ 100,000, 1 ≤ k ≤ 10,000, 0 < hi < 1,000,000,000

## 输出

对于每组数据输出一行，第i行代表第i组数据的答案

## 输入样例

```
3 1
1
2
3
3 1
1
1
2
```

## 输出样例

```
2
1
```

## Hint

对于第2组数据，前三厘米高度为1，后两厘米高度为2.在第三厘米处有1单位的魔力残余，所以就得等一分钟



