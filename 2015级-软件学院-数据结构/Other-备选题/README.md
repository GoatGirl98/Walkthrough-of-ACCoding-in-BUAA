# `A` barty的智商

时间限制: 200 ms 内存限制: 5000 kb

总通过人数: 1 总提交人数: 1



## 题目描述

barty后宫三千，但是正宫只有一个。他的正宫为了他能好好学习，成为学霸，给他定下要求，一定要把和计算机相关的各种课程都学完。

对于每种课程，都会有几个或0个课程作为它的先修课程，只有把那些先修课程学完才能学习该课程，但是这个规定并不是特别严格。设barty的智商为T，且课程A有一门先修课程为B，根据B课程对A课程的影响，会规定一个相关系数C，如果T>＝C，就是说barty足够聪明，那么就可以无视先修课程B而直接去学习A，另外一个很关键的问题就是可能存在A是B的先修课程，B是C的先修课程，C又是A的先修课程（这在实际情况中也是可能存在的），但不会有课程是它自己的先修课。

需要你计算的就是：barty的智商最低为多少的时候可以让barty学完全部课程。

## 输入

输入的第一行是一个整数，为数据的组数t（t<=20）。

对于每组数据，第一行为2个正整数n和m（1<=n,m<=10000），分别表示课程数和课程先修关系数，之后的m行，每行三个数ai、bi、ci，表示bi为ai的一门先修课程，且相关系数为ci（1<=ai,bi<=n，ci<=10^9）。

## 输出

每组数据一行，为最低需要的智商。

## 输入样例

```
1
6 6
2 3 2
3 4 5
4 2 7
2 1 1
3 5 2
6 4 7
```

## 输出样例

```
2
```

## 思路

**本题说白了就是，如果智商是x，那么就可以把所有边权小于等于x的边全部拆掉，要求的目标就是使得整个有向图当中不存在环，即bfs拓扑排序的拓扑序列个数为点的个数**

**既然说了是求答案可行值的最小解，那么我们应当采用二分答案的思想，对答案进行二分搜索，并搜索最小值**

**注意一个corner case，如果原本不需要去掉任何边，就可以保证不存在环，那么答案就是0，其他时候才需要以边权的最小值和最大值为边界做二分答案**

