# C12-2016级C++期末上机模拟赛

# `A` 王助教读取内存

时间限制: 1000 ms 内存限制: 65536 kb

总通过人数: 3 总提交人数: 3

## 题目描述

现在王助教有很多指针需要管理。对每个指针，王助教想要做如下的操作：

1. move {x} {delta}:将指针x移动delta个字节（可以是正的和负的）delta是十进制的。
2. read {x} int:在x处读取一个int类型整数，然后将x移动一个int。

指针编号1~n。

初始的指针全部指向首位（0）。

王助教不想访问到无效的空间。所以每次王助教尝试读取一个无效的空间时，请终止这个操作，然后输出一行提示“Index out of bound.”

**特别地，本题数据有误，操作数不止m个，请用eof等方式来读取操作，尤其是0.8分的错误的同学**

## 输入

第一行三个数，为指针的个数n，有效的内存字节k，操作次数m。

第二行k个16进制数mi，表示内存每个字节的值。

接下来m行，每行表示一个操作（操作里的输入都是十进制的）。

0<𝑛≤1000<n≤100
0<𝑘≤100000<k≤10000
0<𝑚≤10000<m≤1000
0≤𝑚𝑖≤𝐹𝐹0≤mi≤FF

## 输出

对于每个read操作，输出一行，读取到的int值，或者“Index out of bound.”

## 输入样例

```
3 8 7
6 7 8 9 A B C D
read 1 int
read 1 int
read 1 int
move 1 -4
read 1 int 
move 2 1
read 2 int
```

## 输出样例

```
151521030
218893066
Index out of bound.
218893066
168364039
```

## hint

输入和输出的格式符是一样的。 如果不会请自行搜索十六进制的读入方式。

## 思路

这就是计组当中讲到的小端存储，直接模拟即可

# `B` ModricWang与Cantor表

时间限制: 1000 ms 内存限制: 65536 kb

总通过人数: 424 总提交人数: 497

## 题目描述

现代数学的著名证明之一是Georg Cantor证明了有理数是可枚举的。他是用下面这一张表来证明这一命题的： 1/1 1/2 1/3 1/4 1/5 … 2/1 2/2 2/3 2/4 … 3/1 3/2 3/3 … 4/1 4/2 … 5/1 … … 我们以Z字形给上表的每一项编号。第一项是1/1，然后是1/2，2/1，3/1，2/2，…

## 输入

一个整数N，在long long范围内

## 输出

表中的第N项

## 输入样例

```
14
```

## 输出样例

```
2/4
```

## 思路

注意在查表的时候，数据较大， 所以需要采用二分查找

# `C` ModricWang创造世界

时间限制: 1000 ms 内存限制: 65536 kb

总通过人数: 5 总提交人数: 5

## 题目描述

ModricWang在平行世界0x3F66DA里是地球的构造者。天神组给ModricWang若干个可选的组件，ModricWang需要从中选择若干个来建造。每个组件只能在特定的时间区间内建造，并且会占据这个时间区间内的全部时间。请问ModricWang最多能给这个平行世界里的地球制造多少个组件？

## 输入

第一行为一个正整数n，表示可选的组件数

接下来n行，每行2个数字ai，bi，表示每个组件建造的开始时间和结束时间

n≤1000000，0≤ai≤bi≤1000000。

## 输出

最多可选的组件数

## 输入样例

```
3
0 2
2 4
1 3
```

## 输出样例

```
2
```

## 思路

区间排序

# `D` Joshua的炉石狂想

时间限制: 1000 ms 内存限制: 65536 kb

总通过人数: 2 总提交人数: 2

## 题目描述

最近Joshua沉迷炉石，但是作为公关部之星，常常被事务（撩妹）缠身导致没法专心致志，老是没法打出最好的套路，现在他新组建了一套强力的冲锋卡组（所有的角色召唤出来即可进行攻击），无奈对方是嘲讽卡组十分讨厌。

在这个新的回合，Joshua又获得了x个水晶（水晶足够才能进行召唤）并且y张手牌有y只“强力“的冲锋怪，Joshua很忙，只能甩锅给你们来计算出这回合能对对方英雄造成的最大伤害了。

### Hint

1. 双方场上最多有7只怪。
2. 如果对方场上有嘲讽怪存在的话是无法攻击到英雄的（这个时候攻击嘲讽怪就好了）。
3. 每只怪每回合只能攻击一次，且刚开始Joshua场上没有怪。
4. Joshua比较懒，只想在召唤结束后就进行攻击，然后结束回合。

## 输入

第一行 有三个数字x，y，z

接下来y行每行有2个数字m，n，m表示手牌中这只怪的攻击力，n表示召唤这只怪所需的水晶数。

接下来z行每行有1个数字表示对手嘲讽怪的血量值hp。

0≤𝑥≤100≤x≤10

0≤𝑦≤100≤y≤10

0≤𝑧≤70≤z≤7

0≤𝑚≤200≤m≤20

0≤𝑛≤200≤n≤20

0<ℎ𝑝≤200<hp≤20

## 输出

输出一行——能够对对方英雄造成的最大伤害值。

## 输入样例

```
6 2 1
3 3
4 3
1
```

## 输出样例

```
4
```

## 思路

首先先思考了一下能否贪心策略，得到给定出场英雄和嘲讽怪的情况下，最大的伤害值，答案显然是否定的，那么这道题就免不了搜索了
对应的，因为没有通用的贪心策略， 所以必须得分别对出场英雄和嘲讽怪的攻击顺序做全排列一一枚举，要想确定出场英雄，也要通过选择全排列（即n个英雄挑选m个），这样子时间会很成问题。

所以要有对应的剪枝策略，特此提供以下几点：
1.英雄个数必须大于嘲讽怪的个数才会造成伤害
2.英雄的花费必须不超过x，且攻击力总和必须大于嘲讽怪hp总和+当前的最大伤害值才有可能对答案产生贡献
3.如果计算了指定出场英雄的个数是k个，如果k个英雄的最小花费大于x，或最大攻击力总和小于嘲讽怪hp总和，则可以直接跳过这种情况（在本代码当中我有进行过计算，但是没有用这个，最后也过了）

# `E` KZQ的幻想乡大冒险 (1)

时间限制: 1000 ms 内存限制: 65536 kb

总通过人数: 3 总提交人数: 6

## 题目描述

想要探寻神秘的东方力量的ZQ经过长途跋涉，终于来到了幻想乡。然而，他在观光的时候不知不觉间在一片竹林里迷了路。正当他不知所措的时候，遇到了一只会说话的兔子。兔子表示带ZQ走出竹林简直轻而易举，但是在帮助ZQ之前要考ZQ几个问题，否则就要收钱才能带他出去。ZQ旅行的时候已经把钱包里的钱全都捐给了一个很穷的巫女，所以只能硬着头皮回答问题咯。兔子出的第一题是我们耳熟能详的斐波那契，但是兔子繁殖的Fibonacci问题当然难不倒ZQ啦，ZQ表示闭着眼睛都能算出来。ZQ这么简单就答了出来，兔子想：这样自己岂不是很没面子？所以不甘心的兔子立马又出了第二道题：

假设幻想乡的普通兔子从刚生下来到成年的时间是3年，在成年持续10年后会进入老年，**老年持续3年后会悲惨地死掉**。

每对兔子在成年期的每年年初可以生一对小兔子，**只有在成年期才有生育能力。**

现在正在第1年年初，有一对刚出生的普通小兔子，照着上面的规则来计算的话，请问在n年时一共有多少只**还活着的**兔子呢？

ZQ在幻想乡旅行的时候只能续航1.5h的电脑恰好没电了，就请你用代码的力量帮助一筹莫展的ZQ解决这个问题吧。

## 输入

输入多组数据（0<数据组数<20）。

每组数据输入一个n（0<n<=60）。

## 输出

对于每组数据，输出第n年的时候活着的兔子的只数。 每组输出占一行。

## 输入样例

```
1
2
3
4
5
6
7
```

## 输出样例

```
2
2
2
4
6
8
12
```

## 思路

斐波那契数列的变种，注意一下死亡的兔子对答案的影响。

# `F` 王助教大炼钢铁

时间限制: 1000 ms 内存限制: 65536 kb

总通过人数: 6 总提交人数: 8

## 题目描述

王助教学习了一些关于炼钢的物理知识。

生铁的碳含量较高（初始有s%），钢的碳含量较低（需要碳含量等于t%），生铁加热以后碳会燃烧，含量会按比例减少，每秒钟会减少上一秒的a%（但燃烧的过程是连续的）。王助教可以使用锻造锤敲一下生铁，令b%的碳(相对于敲之前的碳含量)瞬间燃烧完毕。

王助教很懒，最多只打算敲一下，请你计算一下王助教至少需要多少时间才能将一块生铁打成钢。

由于同时会发生铁的氧化反应所以可以认为钢的总质量不变。

## 输入

4个整数，代表题目中的s,t,a,b。

0 < t < s < 100
0 < a < 100
0 < b < 100

## 输出

输出一行浮点数，至少需要多少秒打成钢（保留到小数点后1位，四舍五入）

## 输入样例

```
5 2 1 5
```

## 输出样例

```
86.1
```

## 思路

本题应该是疑似错题。

**第一个数据点需要用锤子，第二个数据点不能用锤子。但是具体是因为什么无从得知。如果有明白的同学可以私信笔者进行修改。**

# `G` ModricWang拦截导弹

时间限制: 1000 ms 内存限制: 65536 kb

总通过人数: 2 总提交人数: 2

## 题目描述

ModricWang为了防御UED的导弹袭击，发展出一种导弹拦截系统。但是这种导弹拦截系统有一个缺陷：虽然它的第一发炮弹能够到达任意的高度，但是以后每一发炮弹都不能高于前一发的高度。某天，雷达捕捉到UED的导弹来袭。由于该系统还在试用阶段，所以只有一套系统，因此有可能不能拦截所有的导弹。

## 输入

第一行一个数字n，表示检测到的导弹的个数，1≤n≤1000
第二行n个整数，导弹依次飞来的高度，都在int范围内

## 输出

这套系统最多能拦截多少导弹

## 输入样例

5
5 3 2 3 1

## 输出样例
4

## 思路

O(nlogn) 最长不上升子序列模板问题
