# Final-2021秋-计算机导论（英文）期末上机

# `A` 新闻统计（简单题）

时间限制：1000ms  内存限制：65536kb

通过率：119/150 `(79.33%) `  正确率：119/307 `(38.76%)`

## 题目描述

统计某天中不同种类新闻出现的次数。给出TT条新闻信息，包括新闻的种类以及新闻出现的时刻，其中时刻以24小时制表示。给出n条查询，查询在两个时刻闭区间时间段中某一类新闻出现的次数，保证不会查询未出现的新闻种类。

## 输入

第一行有两个数，分别表示新闻信息条数T，查询条数n。

接下来T行，每行两个用空白字符隔开的字符串，表示新闻的种类，新闻出现的时刻。

接下来n行，每行3个值，表示新闻种类，时间段的开始时刻，时间段的结束时刻。

## 输出

对于每次查询，输出对应新闻种类在对应时间段内的出现次数。

## 输入样例

```
3 2
sports 12:00
sports 13:00
entertainment 11:00
sports 11:00 14:00
entertainment 10:00 14:00
```

## 输出样例

```
2
1
```

## 思路

暴力模拟计算就好咯

但是这题又没说数据范围，所以我要是把T和n都加到10万呢？那当然就是树套树的一眼板子题了（doge）

# `B` 忽略大小写的回文串（简单题）

时间限制：1000ms  内存限制：65536kb

通过率：165/174 `(94.83%) `  正确率：165/253 `(65.22%)`

## 题目描述

给定多个字符串，请你判断在**忽略大小写**的情况下，该字符串是否为回文串。

回文串定义：回文串是一个正读和反读都一样的字符串，如`"level"`或者`"noon"`。

## 输入

第一个数为数据组数T。

接下来TT行，每行输入一个字符串s。

## 输出

对每行输入的字符串s，若s为**忽略大小写**情况下的回文串，则输出True；否则输出False。

## 输入样例1

```
1
Noon
```

## 输出样例1

```
True
```

## 输入样例2

```
3
LaTeX
LaTeL
LeTeL
```

## 输出样例2

```
False
False
True
```

## 数据范围

对于50%的数据，回文串均同时满足**在不忽略大小写条件下的回文性质**。

对于所有数据，满足0<T<100。

## 思路

注意串可以有空白字符串，对于`Python`直接用`input()`就好，对于`C/C++`就得`fgets/getline`

# `C` GPA计算（简单题）

时间限制：1000ms  内存限制：65536kb

通过率：115/163 `(70.55%) `  正确率：115/455 `(25.27%)`

## 题目描述

学业成绩很重要的一个标准就是GPA了，请帮帮sapphire同学算算他的GPA吧！

百分制的单门成绩GPA算法如下：
$$
\begin{equation}
\begin{cases}
4-\frac{(100-n)^2*3}{1600} & 60 <= n<=100 \\
0 & 0<=n<60
\end{cases}
\end{equation}
$$
五级制的单门成绩GPA换算规则如下:
$$
\begin{cases}
0 & E \\
1.7 & D \\
2.8 & C \\
3.5 & B \\
4 & A
\end{cases}
$$
总GPA的计算方式为参与计算的TT门课程绩点Gi对学分Si的加权平均值：
$$
GPA = \frac{\sum_{i=1}^{T}Gi \times Si}{\sum_{i=1}^{T}Si}
$$

## 输入

第一行一个整数，表示参与GPA计算的课程数量TT。

接下来T行，每行两个数，分别表示课程的百分制成绩或者五级制成绩与课程的学分。

## 输出

T门课程成绩的总GPA，保留三位小数。

## 输入样例

```
2
70 2
D 2
```

## 输出样例

```
2.006
```

## 数据范围

对于50%的数据，只包含百分制成绩；

对于全部数据，既包含百分制成绩也包含五级制成绩。

## 思路

`if-else` 与 基础函数的使用。

# `D` Excel-XFD（中等题）

时间限制：1000ms  内存限制：9000kb

通过率：76/165 `(46.06%) `  正确率：76/488 `(15.57%)`

## 题目描述

你一定用过Excel吧？我们可以注意到Excel表格的每一列是用字母来命名的，第1列是A，第22列是B，……，第26列是Z，第27列是AA，……。可以说，Excel表格的列名是一种特殊的26进制表记法。

给定一个数字表示列号，请输出对应于该列号的列名。

## 输入

第一个数为数据组数TT。

接下来T行，每行输入一个数字n，表示列号。

## 输出

对于每组数据，输出一行字符串，表示列名。

## 输入样例1

```
3
1
27
703
```

## 输出样例1

```
A
AA
AAA
```

## 输入样例2

```
2
26
702
```

## 输出样例2

```
Z
ZZ
```

## 输入样例3

```
2
2250
14691
```

## 输出样例3

```
CHN
USA
```

## 输入样例4

```
1
16384
```

## 输出样例4

```
XFD
```

## 数据范围

对于30%的数据，1≤n≤26；

对于70%的数据，1≤n≤702；

对于全部数据，1≤n≤16384（因为Excel最多只有16384列）。

## 思路

进制转换，但是和普通的进制转换稍有不同。

本题为10进制转换为Excel特有的26进制，原本的26进制内每一位为0到25，而这里为1到26。所以我们可以正常地按照10进制先转换为26进制，然后在结果中查看，如果某一位小于等于0的话，就要向他的高位借1（即自己加上26，高位减1。之所以是小于等于0就要借位，是因为借位会出现连锁反应）。这样就可以得到正确的结果了。

顺便给一个高精度的写法，小孩子不懂事，写着玩的。

# `E` 三矩形问题（中等题）

时间限制：1000ms  内存限制：65536kb

通过率：18/138 `(13.04%) `  正确率：18/464 `(3.88%)`

## 题目描述

一人在二维坐标系中放置了三个矩形，请你算出这三个矩形所覆盖的面积。

本题中，两个矩形的边都分别平行于x轴和y轴，每个矩形由左下角和右上角的定点来定义。

## 输入

一组输入数据，分为三行。

第一行为4个数字`a b c d`，(a,b)表示第一个矩形的左下角，(c,d)表示第一个矩形的右上角。

第二行为4个数字`e f g h`，(e,f)表示第二个矩形的左下角，(g,h)表示第二个矩形的右上角。

第三行为4个数字`i j k l`，(i,j)表示第三个矩形的左下角，(k,l)表示第三个矩形的右上角。

## 输出

对于每组数据输出一行，表示矩形覆盖的面积，保留两位小数。

## 输入样例1

```
0 0 1 1
1 1 2 2
2 2 3 3
```

## 输出样例1

```
3.00
```

## 输入样例2

```
0 0 3 3
1 1 2 2
5 5 7 7
```

## 输出样例2

```
13.00
```

## 输入样例3

```
0 0 2 2
1 1 3 3
1 1 2 2
```

## 输出样例3

```
7.00
```

## 数据范围

对于30%的数据，保证任意两个矩形不会重叠；

对于70%的数据，保证存在一个矩形，其与另外两个矩形均不重叠；

对于全部数据，三个矩形可以任意放置，0≤a,b,c,d,e,f,g,h,i,j,k,l≤20。

## 思路

直接容斥原理即可，首先要会两个平行于坐标轴的矩形相交是怎么做的。

当然，如果闲的没事的话，也可以写个扫描线求任意多个平行于坐标轴的矩形相交。

另外需要注意，输入和输出都可以是浮点数。

# `F` 点名册（中等题）

时间限制：1000ms  内存限制：65536kb

通过率：3/40 `(7.50%) `  正确率：3/137 `(2.19%)`

## 题目描述

sapphire为班上的同学制作了一份点名册，但是这份点名册弄丢了。为了还原点名册中同学们的序号顺序，询问了部分同学序号的顺序信息，请你来根据这些信息复原点名册吧。

班级中一共有n位同学，点名册中每位同学用[1,n]之间互不相同的的一个整数表示。一共搜集了m条顺序信息，每一条序号顺序信息用`(a, b)`数值对表示，这条信息指的是`a`同学在点名册的顺序恰好位于`b`同学的上方。

请你来复原点名册序号顺序，如果不能通过搜集的序号顺序信息还原出完整的点名册信息或者复原中出现冲突，则直接输出`Error`。

## 输入

第一行为一个整数TT为数据组数。

在每组数据中，第一行有两个整数，分别为为班上同学的数量n，序号的是顺序信息条数m；接下来m行，每行2个整数a, b为同学序号的相对信息（保证a, b是在[1,n]之间的整数）。

## 输出

复原后按照位置从上到下的顺序输出序号序列。

如果不能复原，则只用输出`Error`。

## 输入样例

```
2
4 3
2 3
3 1
4 2
3 1
1 2
```

## 输出样例

```
4 2 3 1
Error
```

## 样例说明

样例中包含两组数据：第一组中同学`2`在点名册中顺序恰好位于`3`上方，同理`3`恰好位于`1`上方，`4`恰好位于`2`上方。得到的点名册序列从上到下为为`4 2 3 1`；第二组只包含同学`1`位于同学`2`上方的信息，不能完整还原3位同学的顺序，输出`Error`。

## 数据范围

对于40%的数据，能够还原完整的点名册；

对于全部的数据，不一定能够还原出点名册。

## 思路

图论，拓扑排序。只要每一次根据入度为0原则入队的节点有且仅有1个（除了末尾节点之外），即为合法。

# `G` 字符串编写（困难题）

时间限制：1000ms  内存限制：65536kb

通过率：0/12 `(0.00%) `  正确率：0/37 `(0.00%)`

## 题目描述

需要使用一款编辑器来编写一行字符串。这款编辑器的功能有如下限制：

- 每一次操作可以连续输入多个字符但是输入的字符必须相同；
- 每次操作可以从字符串中的任意位置开始输入字符，每次写入如果光标后存在字符则覆盖该字符，否则直接向后写入字符，然后光标会移动到写入的字符之后。

请你计算使用上述编辑器编写一个字符串所需的最少操作。

## 输入

第一行为字符串strstr，代表需要编写的字符串。

## 输出

输出一个整数，为最少的操作次数。

## 输入样例

```
yty
```

## 输出样例

```
2
```

## 样例说明

可以第一次操作采取从行首输入`yyy`，第二次操作从字符串第二个位置输入`t`覆盖掉`y`字符

## 思路

区间DP。

假设 $dp[l][r]$ 表示的是字符串的子串从l到r输入需要的最小操作次数

那么初始状态必然有 $dp[l][l] = 1\quad(l=1,2,...,len(str))$

每次计算 $dp[l][r]$ 的时候，初始状态为从 $dp[l+1][r]$ 这里多涂刷1次（显然初始状态不一定是最优状态）

关键要看切割点，假设 $(l,r)$ 中间有个 $k$ ，且 $s[i]==s[k]$ ，那其实就完全可以把 $dp[l+1][k]$ 和 $dp[l][k]$ 当做同一个东西（因为l和k可以在同一次输入内完成）就有：
$$
dp[l][r] = \min(dp[l][r], dp[l+1][k]+dp[k+1][r])\quad(s[l]==s[k],l\le k\le r)
$$
其中 $dp[l+1][l]$ 当做0来看待，就可以保证在边界情况当中不会出错了。

然后我们按照区间长度从小到大，相同大小区间从左到右的顺序进行dp即可，最终 $dp[1][n]$ 即为所求。

同B题，注意串可以有空白字符串，对于`Python`直接用`input()`就好，对于`C/C++`就得`fgets/getline`。

顺带扩展一下，如果本题的每次输入操作长度有限制，那么当区间长度大于单次操作限制时，就无脑做切割，从所有可能切割的无限制方案中，挑选一种即可。