# Other-圣诞娱乐

思路的部分文案出自great_designer的b站文章，侵删。

有的数学公式github无法展示，可以下载到本地查阅。

# `A` 我知道你不知道圣诞节做什么

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

有两个数字 x,y(2<=x,y<=99)

将两个数字的和 s 告诉 Alice，

将两个数字的积 t 告诉 Bob。

Alice 对 Bob 说：我知道你不知道这两个数是什么，但是我也不知道。

Bob 对 Alice 说：我现在知道这两个数是什么了。

Alice 对 Bob 说：我现在也知道这两个数是什么了。

试问两个数字的和 s 与两个数字的积 t。

## 输入

没有输入

## 输出

第一行为可能的值的组数 n

接下来一共 n 行

每一行包含以空格隔开的两个数字，分别为如题的 s 与 t

顺序按照以 s 为第一关键字 t 为第二关键字的升序排列

## 输入样例

没有输入

## 输出样例

这种题目怎么可能有样例输出啊喂ヽ(●-`Д´-)ノ

## 思路

结论1：两数之和不可能超过55，也不能拆为两个素数的和。 因为53是素数，在2到99范围内与53的乘积只有一种分拆方法。因此如果Alice知道的两数之和超过55，则可以拆成53和另一个数。Alice无法断定Bob不知道两数是什么。   对小于等于54的数，同样的分析可得到

 结论2：Alice知道的数范围在11 17 23 27 29 35 37 41 47 53。

于是列表。讨论所有分拆可能，要求分拆出的乘积不能在多个数里出现。

 最终发现，去重后仅有17有唯一的拆法，4乘13等于52。 因此最终答案：两数之和为17，两数之积为54。



# `B` 圣诞老人买礼物

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

圣诞老人有好多多的钞票，

面值分别为 1 元、 5元和 10 元。

现在他要购买价格为 xx 元的圣诞礼物，

他想知道有多少种不同的方案组成正好 x 元。

求方案数对 10e9+7 取模。

## 输入

第一个数为数据组数T(T<=10000)

接下来 T 行，每行 1 个正整数 x(x<=10e9)，表示圣诞礼物的价格

## 输出

对于每组数据，输出一行为方案数对 10e9+7 取模的值

## 输入样例

```
3
1
5
10
```

## 输出样例

```
1
2
4    
```

## 思路

组合数学/生成函数 特征根法求通项

首先不难看出，只有总额被5整除才有讨论的意义，不被5整除的数的答案与比他小的最大被5整除的数的答案是一样的。

那么可以得到对应生成函数是
$$
(1+a+a^2+...)^2(1+a^2+a^4+...)=\frac{1}{(1-a)^3(1+a)}
$$
(注意不要忘记，5个1和1个5有相同的效用，所以前面有个平方项)

对应的a^x的系数就是输入为5x时的答案，于是此时需要根据生成函数推出通式。

假设对应的系数都是ki，那么等式两侧同乘(1-a)^3(1+a)
$$
(1-2a+2a^3-a^4)g(a)=\\k_0+(k_1-2k_0)a+(k_2-2k_1)a^2+(k_3-2k_2+2k_0)a^3+(k_4-2k_3+2k_1+k_0)a^4+...\\
k_0=1,k_1=2k_0,k_2=2k_1,k_3=2k_2-2k_0,k_4=2k_3-2k_1+k_0\\
$$
于是递推式为
$$
f(n)=2f(n-1)-2f(n-3)+f(n-4)\\
$$
然而n的上限非常大，采用dp打表的话时间和空间都是不够的，于是我们通过特征根方程求解
$$
x^4-2x^3+2x-1=0\\
(x-1)^3(x+1)=0\\
x_{1,2,3}=1,x_4=-1
$$
由此知道特征方程的形式应该是
$$
f(n)=(An^2+Bn+C)(1)^n+D(-1)^n
$$
(因为有3个重根，所以方程的前面是这样的)

**接下来由f(0)=1,f(1)=2,f(2)=4,f(3)=6,f(4)=9,将这几个特解代入上述方程当中，分别解出**
$$
A=\frac{1}{4},B=1,C=\frac{7}{8},D=\frac{1}{8}
$$

# `C` 圣诞老人分礼物

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

圣诞老人买了好多多礼物，

每个礼物都是一样的，一共 x 个。

现在他要将礼物分成若干堆(每堆包含礼物数量可以相同)，

显然这若干堆礼物数量的和是 x个，

他想知道这若干堆礼物数量的积最大是多少。

求最大乘积对 10e9+7取模。

## 输入

第一个数为数据组数T(T<=10000)

接下来 T 行，每行 1个正整数 x(x<=10e9)，表示圣诞礼物的数量

## 输出

对于每组数据，输出一行为最大乘积对 10e9+7取模的值

## 输入样例

```
3
1
3
5    
```

## 输出样例

```
1
3
6        
```

## 思路

贪心，尽可能地拆出更多的3，除了1无法拆出之外，其余的数拆出的多余零头应为2或者4

剩下的就要用快速幂来解决了

# `D` 终于要打开礼物啦

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

圣诞老人发给你好多多礼物，

每个礼物都是一样的，一共 x 个，每个礼物都仅有一把锁锁住这个礼物，

每把锁只有一个钥匙可以打开，每把钥匙也仅能开唯一的锁，

各个锁互不相同，各个钥匙也互不相同，所有锁和钥匙是一一对应的。

现在圣诞老人随机将钥匙藏入礼物中，保证每个礼物含且仅含一把钥匙，

然后把这 x 个礼物发给了你。

“这**？？**是死循环啊！！！”愤怒的你发现一个礼物也打不开，

于是你使用了**吃我一锤**砸开了 k(k<=x) 个礼物，并拿到了里面的钥匙，

这时问题来了，你有多大的概率靠利用钥匙开锁来打开其余所有的礼物？

注：砸开 k(k<=x)个礼物之后你就获得了这些礼物的钥匙，每打开一个礼物就会获得该礼物内部的钥匙。

## 输入

第一个数为数据组数T(T<=10000)

接下来 T行，每行 2 个空格隔开的正整数 x,k(x<=10e9,k<=x)，

表示圣诞礼物的数量以及砸开礼物的数量

## 输出

对于每组数据，输出一行为用钥匙打开其余礼物的概率，保留 3 位小数。

## 输入样例

```
1
1 1
```

## 输出样例

```
1.000 
```

## 思路

所求得的概率就是k/x

当然了，利用概率dp暴力求解应该也能得到答案

# `E` 圣诞礼物圈地计划

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

圣诞老人给你送了两根等长的火柴棍作为圣诞礼物！！

由于太开森了你决定把这两根火柴棍与一个直角围成一个封闭的四边形。

那么四边形的面积最大是多少呢？

## 输入

第一个数为数据组数 T(T<=10000)

接下来 T 行，每行 1 个正整数 x(x<=10000)，表示火柴棍的长度

## 输出

对于每组数据，输出一行为四边形的最大面积，保留 3位小数

## 输入样例

```
3
1
2
3
```

## 输出样例

这种题目怎么可能有样例输出啊喂ヽ(●-`Д´-)ノ

## 思路

我们考虑从直角这里展开，伸展出来的顶点是8个，此时显然应该是正8边形的面积最大

答案就有了，应该是正8边形面积的4分之1，如何通过中心点到顶点的距离求面积就自己推吧



# `F` 圣诞大礼包

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

圣诞老人还有最后一个大礼包发给 x 个人，

这一个大礼包圣诞老人希望有至少 k 个人在场的时候就可以被打开，

但是少于 k 个人在场的时候就打不开。

为了解决这个问题圣诞老人决定给这唯一一个大礼包一共上 n 把锁，并一共配 m 把钥匙，以某种规则分发给所有人，

每把锁可以被数把相同的钥匙打开，但是一把钥匙仅能开一把锁，

大礼包可以被打开当且仅当：

在所有在场的人拿出自己的所有钥匙后，

发现大礼包上的每把锁都至少有一把钥匙在现场。

现在圣诞老人想知道在满足题目条件的情况下，一共最少需要多少把锁和多少把钥匙。

结果可能很大，请对 10e9+7 取模。

## 输入

第一个数为数据组数T(T<=10000)

接下来 T 行，每行 22 个空格隔开的正整数 x,k(x<=103,k<=x)，

表示人的总数以及至少多少人在场即可开大礼包

## 输出

对于每组数据，输出一行为空格隔开的锁的数量和钥匙的数量，对 10e9+7 取模

## 输入样例

```
3
1 1
2 2
2 1
```

## 输出样例

```
1 1
2 2
1 2
```

## hint

解释一下部分样例好辣。

第二组两个人，需要至少两人在场才可打开大礼包。

大礼包配锁 A,B，钥匙 a,b，给第一个人钥匙 a，第二个人钥匙 b。

第三组两个人，需要至少一人在场即可打开大礼包。

大礼包配锁 A，钥匙 a1,a2，给第一个人钥匙 a1，第二个人钥匙 a2。

## 思路

题意即，寻找锁与钥匙的分配办法，使得x个人中，任意k-1个人无法打开全部锁，但是任意k个人即可以打开全部锁。

 这意味着，选定k-1个人后，剩余的x-k+1个人必然都拥有前k-1个人都没有的钥匙。即，任意x-k+1个人必然至少有一把公共钥匙。

 若两组x-k+1个人的公共钥匙相同，意味着对应两组k-1个人公共没有的钥匙相同。那么对于这把钥匙，拥有与不拥有的总人数将超过x，得到矛盾。因此，公共钥匙两两不同。 

最终，公共钥匙的类数，即锁的个数，至少有组合数(x,x-k+1)个。每种公共钥匙x-k+1把，共有x-k+1乘组合数(x,x-k+1)把钥匙。 

这个最小值可以达到，上述构造恰好可以符合题意，每x-k+1个人有一把公共钥匙。

剩下的就是求组合数的问题了，如果需要更快地解出答案的话，可以直接预处理阶乘在模10e9+7意义下的逆元

# `G` 圣诞礼物是要转半圈滴

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

你收到了来自圣诞老人的另一个礼物：一张桌子！

圣诞老人把桌子帮你放在了家里的中心，位置很好但是方向反了。。。

你想把桌子转 180 度，而刚好不改变桌子的位置，

可是桌子太沉了，每次你只能以桌子一个桌脚为轴来旋转这个桌子。

那么最少需要几次可以做到旋转 180 度，而刚好不改变桌子的位置呢？

行不通就输出 −1。

## 输入

第一个数为数据组数T(T<=10000)

接下来 T 行，每行 22 个空格隔开的正整数 x,y(x,y<=10000)，表示桌子的两边边长

## 输出

对于每组数据，输出一行为最少旋转的次数，不能完成操作 输出 −1

## 输入样例

```
3
5 5
10 9
123 1234
```

## 输出样例

这种题目怎么可能有样例输出啊喂ヽ(●-`Д´-)ノ

## 思路

首先正方形很显然，只需要转1次就可以了

对于其他的普通矩形，都需要转3次（假设2次可以的话，那么必然有一只桌角已经到达了最终位置，然而两边长度不相等，必然是对不上的）

具体转3次的话，将桌子的其中一角当做一条线段，将线段原位点到即可，那就是沿着正三角移动，旋转3次。

# `H` 圣诞小游戏

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

到了 Alice 和 Bob 玩游戏的时间啦！

圣诞老人给出一个正整数 n，

Alice 和 Bob 轮流在纸上写下一个小于等于 n 的正整数，Alice先，

规定一旦一个数字被写过了，该数的所有约数都不可再被写，

轮到谁不能写下任何小于等于 n 的正整数的时候，该人就输了。

他们都很聪明的前提下，Alice先写谁会赢？

## 输入

第一个数为数据组数T(T<=10000)

接下来 T 行，每行 1 个正整数 x(x<=10e9)，表示圣诞老人给出的数字

## 输出

对于每组数据，输出一行为胜者(Alice 或者 Bob)

## 输入样例

```
1
1
```

## 输出样例

```
Alice
```

## 思路

Alice必胜。

假设在某个局面，Alice选择了除1以外的任何数，Bob就必胜了，但是只要Alice取了1，Alice就必胜

# `I` 圣诞糖果

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

圣诞老人有 xx 个糖果，

Alice 和 Bob 轮流向圣诞老人索取 pk 个糖果，

其中 p 是质数，k 是大于等于零的整数。

谁拿到最后一颗糖果谁就赢辣，

他们都很聪明的前提下，Alice先索取糖果谁会赢？

## 输入

第一个数为数据组数T(T<=10000)

接下来 T 行，每行 1 个正整数 x(x<=10e9)，表示圣诞老人的糖果数量

## 输出

对于每组数据，输出一行为胜者(Alice 或者 Bob)

## 输入样例

```
1
1
```

## 输出样例

```
Alice
```

## 思路

当且仅当x被6整除，Bob胜，其他时候Alice胜

具体的话，做归纳法不难证出来
