# C4-2014级算法第四次上机

# `A` 大家一起数钢镚

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

Nova君在经历双十一风暴后，不得不靠在一家便利店打工来维持生计。作为一名合格的收银员，必须快速的计算价格并找钱个顾客。Nova君是个十足的硬币控，喜欢金属色闪闪的硬币，所以找钱是都希望用尽可能少的硬币。现在，假设收银台有面值为1元、5元、10元、50元、100元、500元的硬币各Ai、Bi、Ci、Di、Ei、Fi 个，需要找的钱的数额为A元，那最少需要多少个硬币呢？假定至少存在一种找钱方案。

被jhljx附体而不会数数Nova君求助中......

## 输入

多组测试数据（组数不超过10），对于每组数据，输入两行，第一行为6个正整数，分别代表1元、5元、10元、50元、100元、500元的硬币个数，第二行为一个正整数A，代表需要支付的钱数。所有正整数都在INT范围内。

## 输出

对于每组数据，输出一行，为最少的硬币数量

## 输入样例

```
3 2 1 3 0 2
620
```

## 输出样例

```
6
```

## Hint

```
放轻松，签到题~
```

## 思路

贪心

如果这题所有的硬币不是大于0而是大于等于0该怎么办？

# `B` 机智零崎不会没梗Ⅰ

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

之前的上机中，背包问题已经基本都和大家混了个脸熟，不过还有一种不是背包却以背包为名的问题，零崎只能说“我从未见过如此厚颜无耻之包”。梗玩过了，就进入正题。

M87星云盛产矿物，有红色的绿色的黄色的蓝色的银色的白色的……不同颜色的矿物产量不同用途不同自然价值也不一样。隔壁M78星云的人虽然说主要是用银色的做头盔，不过其他颜色的还可以拿来卖给地球人啊23333

某外星生物一次可以携带重量为G的矿物，现在他们面前有K块重量W，价值V的矿石，不过他们很厉害所以可以把矿石搓成矿砂再把矿砂搓成矿石。

外星生物穿越星际路费可是很贵的，如果他们带来的矿石价值不足N，则请你补足路费，否则你只要大喊一声summon，他们就会出现了！

## 输入

多组输入数据

第一行为三个整数，分别为描述中的G K N

接下来K行，每行两个整数为W,V。

K小于10000，其他数据保证在int范围内，且W不为0

## 输出

对于每组数据，输出一行，为“summon！”或者需要补充的路费，结果保留3位小数。

## 输入样例

```
3 2 1
1 2
2 3
1 1 10
1 5
```

## 输出样例

```
summon!
5.000
```

## 思路

分数背包

名字是背包，但是随便动脑子想想也知道实际上还是贪心...

# `C` 出口胡萝卜

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

终于，Nova君饲养的小兔子们成精了，他们可以帮着赚钱啦。春天，兔子们播下胡萝卜的种子；夏天，兔子们耕耘；秋天，兔子们收获硕大无比的胡萝卜；冬天，兔子们把胡萝卜包装好，远销海内外。现在问题来了，Nova君希望削减包装的运输的成本，因而要尽可能少的用包装箱。兔子们种植的胡萝卜很奇葩，他们的长度都为H，但粗细度不一致，为了方便，事先把胡萝卜风干并且切成规则的长方体，规格为A*A*H，H为长度，A为横切面的边长。假设胡萝卜只有1x1xH，2x2xH，3x3xH， 4x4xH， 5x5xH， 6x6xH这6种规格，通常使用一个 6x6xH的长方体包裹包装然后邮寄给客户。

## 输入

多组测试数组（组数少于100），对于每组数据，输入一行，为6个正整数（int范围内），分别代表规格为 1x1xH 至6x6xH 这六种胡萝卜的数量。

## 输出

对于每组数据，输出一行，为所需最少的包裹数。

## 输入样例

```
0 0 4 0 0 1   
7 5 1 0 0 0   
```

## 输出样例

```
2
1
```

## 思路

直接穷举在各种情况下，应该怎么填充方块是最合适的

# `D` 机智零崎不会没梗Ⅱ

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

你满心欢喜的召唤出了外星生物，以为可以变身超人拥有强大力量战胜一切怪兽，然而面对着身前高大的外星生物你一脸茫然，因为，你懂M78星云语吗？不过不用担心，因为零崎非常机智，他给出了关键性的提示：“讲道理，日语可是全宇宙通用语，所以为什么不试试和外星人讲日语呢？”

不过现在外星生物说的话都是“!@#$%^&%#%I&!……”这样的东西，你要怎么转换成日语呢？

作位全宇宙通用的日语，自然有一套万能的转换算法，那就是Huffman编码转换！当然了这肯定不是普通的Huffman编码转换，而是根据不同的编码长度转换为不同的假名。

## 输入

第一行为一个整数t，接下来t行数据。1<=t<=100

每组输入数据为一个外星语字符串，为了表示方便，暂时使用大小写英文字母代替外星字母。字符串长度不超过2000

## 输出

对于每组数据，输出对应的二进制Huffman编码总长度

## 输入样例

```
2
abababac
abcdefg
```

## 输出样例

```
12
20
```

## 思路

哈夫曼树，前面有类似的题目，这里其实就是把字符的频率当做权值，进行带权路径的计算

可以参照邓俊辉《数据结构》的二叉树章节进行学习

本题不卡时间，O(n) O(nlogn) O(n^2)全都能过

# `E` 忙碌的Nova君

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

理论上，Nova君是个大闲人，但每天还是有一大堆事要干，大作业啦，创新杯啦，游戏啦，出题坑人啦，balabala......然而精力有限，Nova君同一时间只能做一件事，并不能一心二用。假设现在有N项工作等待Nova君完成，分别在 Si 时刻开始，在 Ti 时刻结束，对于每项工作可以选择做或者不做，但不可以同时选择时间重叠的工作（即使是开始的瞬间和结束的瞬间重叠也是不允许的）。Nova君自然希望尽量多做一些事情，那么最多能做几件事呢？

## 输入

多组测试数据（数据组数不超过10），对于每组数据，第一行输入一个正整数N，代表可选的工作数量，接下来输入N行，每行两个正整数，代表第 i 个工作的开始时间 si 和结束时间 ti 。

1<=N<=100000 | 1<=si<=ti<=10^9

## 输出

对于每组数据，输出一行，为可完成的工作的最大数量。

## 输入样例

```
5
1 3
2 5
4 7
6 9
8 10
```

## 输出样例

```
3
```

## 思路

区间排序，不想多说了...

# `F` 机智零崎不会没梗Ⅲ

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

零崎总是说自己有一百种梗可玩，然而其实都是假的，是化学成分的，是特技。想要给摊还分析加个梗，实在是不好想，因为这个内容并不是什么算法，而是算法分析。

不过既然还得考，那么没有办法……

“势能法”是摊还分析中一种比较简单常用的方法，而且容易理解。现在零崎有K个硬币，规定每次“翻动”操作只能从最右侧开始翻转硬币，且如果把一个硬币从正面向上翻到背面向上，则需要对其左侧相邻的那个硬币也执行“翻动”操作(翻至最左则结束)。定义硬币组的势为硬币中正面向上的硬币的个数。现在要求你求出从某个给定的硬币组状态之后连续N个“翻动”操作的摊还代价。

硬币组的初始状态以一组数表示，0代表反面，1代表正面。

## 输入

多组测试数据。

每组测试数据共两行：

第一行K+1个正整数，分别为硬币组中硬币数K和初始状态(0<K<20)；

第二行一个正整数，为题目要求你求出的“翻动”操作的个数N（0<N<30）。

## 输出

每组测试数据输出一行，此行第i个数输出初始状态后第i个操作的摊还代价（1<=i<=N）。

## 输入样例

```
3 0 0 0
2
```

## 输出样例

```
2 2
```

## 思路

二进制计数器的摊还分析模型

《算法导论》上有现成的结论，自己翻书去找吧

摊还分析一些比较有意义的用处主要是在——动态数组的动态扩容缩容，双栈当队列，伸展树Splay，斐波那契堆等，通过证明他们在均摊意义上的复杂度来说明他们的可用性

# `G` 皮卡丘！GET！

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

在前往神奇宝贝联盟的路上，Nova君不慎丢失了皮卡丘桑，于是，他果断决定再抓几只。留给Nova君的时间不多了，他只有H个小时去捕捉野生的皮卡丘，并且有野生皮卡丘栖息的草丛只有N块，并且这些草丛在一条直线上排列着。开始时，Nova君在1号草丛中。Nova君可以选择在任意草丛停下来，并且只能从一个草丛前往下一个相邻草丛，但他可以选择是否探索该草丛。现在，我们规定，移动和探索的时间最小单位都是5分钟。已知，从草丛 i 前往草丛 i+1 需要 ti 个单位时间；每块草丛的初始捕捉数量期望为 fi（在初始的五分钟内，捕捉到皮卡丘的数量期望为 fi ），一旦对该草丛进行探索，草丛的捕捉数量期望就会以 di 的速率削弱（即之后的五分钟内的数量期望下降了 di ），如果当前该草丛的数量期望小于等于 di ，那么下一个五分钟内，该草丛将不可能捉到皮卡丘了。Nova君自带主角光环，所以，只有他一个人在捕捉皮卡丘。那么，请大家算一算，Nova君捕捉皮卡丘的数量期望是多少呢？

## 输入

多组测试数据（数据组数不超过100），对于每组数据，第一行为一个正整数N，代表草丛个数，第二行为一个正整数H，代表可以花费的时间，第三行包含N个正整数 f1...fn，表示起始的捕捉期望数量，第四行包含N个正整数，表示进行捕捉时的期望削减量 d1...dn，第五行为N-1个正整数 t1...tn-1，代表从第 i 个草丛前往第 i+1 个草丛所需的单位时间的数量。

以第一行输入0作为结束标志。

其中： 0<ti<=192 | di>=0 | fi >=0 | 1<=H<=16 | 2<=N<=25 且保证int范围内

## 输出

对于每组数据，输出两行，第一行为N个正整数，代表在第 i 个草丛探索花费的时间，第二行为一个字符串"The Number of Pikachu expected to be caught: "(不含引号)加上一个正整数，代表最大的捕捉期望数量，详见样例。如果存在多种方案，则优先在前面的草丛进行探索（即尽量在第 i 个草丛探索，而不在第 i+1 个探索）。

## 输入样例

```
2 
1 
10 1 
2 5 
2 
4 
4 
10 15 20 17 
0 3 4 3 
1 2 3 
4 
4 
10 15 50 30 
0 3 4 3 
1 2 3 
0 
```

## 输出样例

```
45 5
The Number of Pikachu expected to be caught: 31
240 0 0 0
The Number of Pikachu expected to be caught: 480
115 10 50 35
The Number of Pikachu expected to be caught: 724
```

## 思路

利用优先队列，枚举从任一位置开始钓鱼的最优解，存在多种方案优先选靠前的

优先队列实时看哪里的皮卡丘是最多的，数量一样优先钓最前面的

优先队列贪心的顺序和实际钓皮卡丘的顺序不一样，如果规定了只在前面k个沼泽钓皮卡丘，那么理论上可以步行的最短时间就是从开头的沼泽走到最后的沼泽需要的时间

因为走到某一个地方还有途径的时间需要多次计算，所以这里用前缀和处理一下

