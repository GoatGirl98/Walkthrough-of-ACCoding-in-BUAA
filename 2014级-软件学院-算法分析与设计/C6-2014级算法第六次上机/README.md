# C6-2014级算法第六次上机

# `A` 捡火柴的Nova君

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

南方没暖气，怕冷的的宝宝们只能用火柴取暖。然而Nova君害怕火烧到手指头，当木头梗还有一大截的时候就慌忙把火柴丢到地上踩灭了，没多久，地上就七零八落，躺着一堆木棍，有得木梗还盖在了别的上面。现在Nova君打算收拾残局，他准备一根一根捡起火柴，但他很怕多花力气，所以决定优先捡起没有被盖住的火柴梗（因为被盖住的捡起来更费力嘛），所以现在Nova君，有多少根火柴是没有被盖住的呢？

## 输入

多组测试数据（组数不超过100），对于每组数据，第一行为一个正整数N，表示火柴梗的根数，接下来N行，每行四个浮点数a1,a2,b1,b2，分别表示火柴梗两个端点的横纵坐标。（请用double数据类型，保证输入数据合法）

## 输出

对于每组数据，输出一行，表示没有被盖住的火柴序号（输出的相对顺序与输入时保持一致）

## 输入样例

```
2
1 1 2 2
1 1 3 3
3
0 0 1 1
1 0 2 1
2 0 3 1
```

## 输出样例

```
2
1 2 3
```

## Hint

```
抽象出的线段，只要有点重合，就算是覆盖了
```

## 思路

计算几何 线段相交模板

只要根据顺序，从下往上判断是否有线段和自己相交，拿自己就被盖住了

规范相交和非规范相交都算是相交

# `B` 寻找最远点对

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

TD走廊里有一关“勇闯梅花桩”，水面上稀稀落落地立着几根柱子。Nova君自认为轻功不错，觉得可以在任意两根柱子之间跳跃，现在他想挑战一次跨越距离最远的两根柱子。请问，最远距离是多少？（由于木桩以横纵坐标形式给出，为了计算方便，避免求平方根，答案只需给出距离的平方即可）

## 输入

多组测试数据（组数不超过10），对于每组数据，第一行为一个正整数N，代表梅花桩的个数，接下来N行，每行两个正整数xi， yi分别代表第 i 根桩子的横纵坐标。 （数据在INT范围内）

## 输出

对于每组数据，输出一行，为距离最远的两根柱子的距离的平方。

## 输入样例

```
3
1 1
1 2
0 0
```

## 输出样例

```
5
```

## 思路

凸包 对踵点

首先不难想到，最远点对就在凸包上，求凸包利用极角坐标排序是O(nlogn)的

接下来就是发现，最远点对一定是一对对踵点，但是枚举所有的点也不现实

于是我们需要通过将点的距离转换为三角形的面积，找到峰值面积之后，顺时针旋转，在O(n)内找到最远的对踵点

这就是所谓的“旋转卡壳”

# `C` FFT教你做乘法

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

给定两个8进制正整数A和B（A和B均小于10000位），请利用离散傅里叶变换计算A与B的乘积。

## 输入

多组测试数据（组数不超过100）每组测试数据只有一行，包含两个正整数A和B。

## 输出

对于每组数据，输出一行，为A和B的乘积。

## 输入样例

```
1 7
2 17
```

## 输出样例

```
7
36
```

## 思路

**快速傅里叶变换FFT，采用了分治的思想，在空间上进一步优化，去掉递归改为迭代版本，可以在O(nlogn)之内求得多项式的卷积（多项式的次幂数是有限的前提下）**

找模板自学吧，想企图用python自带高精水过的全都给爷爬

**另外，在这样的数据范围情况下，如果有专门学过高精度的同学可以尝试压位高精，数组内的每一个元素压缩8位数字（本题为8进制，所以可以压缩为8^8进制），再采用O(n^2)的普通乘法即可，在这样的数据范围下，会比O(nlogn)的FFT更快（优势在于常数和空间占用极低），在位数为50000左右时，两者的速度基本一致，而当规模位数达到10^6的时候，则只能使用FFT**

# `D` jhljx跑跑跑

时间限制：100ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

数学不好的jhljx又在和别人打牌，他们一共m人每人n张牌，牌只有点数没有花色，从1点到k点一共n*m张。每轮每个人出一张牌，只要jhljx出的牌比其余m-1个人都大，jhljx这轮就能跑掉。现在jhljx手里的牌是什么全都可以告诉你，那么他至少能跑掉几次呢？

没时间解释了，jhljx快跑了，现在很急很关键！

## 输入

多组测试数据，每组测试数据两行。

第一行为m,n两个整数，第二行为n个整数，表示jhljx手牌点数。

n*m<=10000

## 输出

对于每组测试数据输出一行为jhljx能赢的次数。

## 输入样例

```
2 3
1 3 6
```

## 输出样例

```
1
```

## 思路

由于是最少的赢的次数，那么我们可以转换为，其他m-1个人的牌凑成一整副牌，直接和他对垒

jhljx自己的牌从大到小整理，优先从大的开始跑，其他人的牌按照原有顺序拼接

然后按照顺序理对面的牌的时候，发现到目前为止没有比jhljx当前大的牌来镇压住他，那jhljx这张牌就跑掉了

这样得到的跑掉次数是最少的

# `E` 网络传输

时间限制：300ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

网络上的数据传输是共用数据线的，当一台主机发送传输请求时网络上有其他主机在发送数据，就不能成功发送只能等待。如果网络经常处于占用情况，平均等待时间过长，可能说明网络负载过重、拓扑结构不好或延时算法有问题。为了检测是否有这些问题，可以在服务器之间发送一些数据查看响应时间。

不过现在，我们姑且简化问题，将网络看做是一维的线段，各个主机看做线段上的点。当主机i向主机j发送数据时，i->j窗口所有的主机此时都不能发送数据。每次数据传输为1单位时间（由于网线上数据传输速度很快，不计距离影响）。

下面给出一组测试，求完成所有传输请求需要使用的最少的时间。

## 输入

多组测试数据，每组N+1行。

每组第一行数为题目描述中一组测试的请求数n

接下来n行，每行2个整数i,j，表示一次数据传输i->j。

1<=i,j<=N<=10000

## 输出

对于每组数据，输出一行，为最小用时。

## 输入样例

```
3
1 3
3 4
5 1
```

## 输出样例

```
3
```

## 思路

题目可能稍微有点晦涩难懂，不过仔细读明白了就能明白

题目所求的，就是这些线段覆盖的时候，被覆盖次数最大的点对应的次数

剩下的就是区间操作了，注意r<l的时候需要swap一下

虽然本题没有卡时间复杂度，但是我本人强烈建议把这道题当做一道线段树的入门题来完成

**但是仔细看了一下，这种基础的区间加法求最大值的问题，最简单且更加快速的算法应该是采用差分来完成。**

# `F` 似乎该博弈了！

时间限制：100ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

nova君陷入了困境，因为他无法在PS4游戏上凭借操作战胜对手。机智如他，只好和对手博弈了！

nova君拿出的方案和以往有些不一样，他说：“你可以决定石子数量和石子的取法，我来决定先后手，这样非常公平。”他的对手觉得nova君说的有道理，于是不仅决定了每局的石子数量，还给出了k个数字，表示每次可以任意取走数量等同于这k个数字中一个的石子，k中一定有一个为1。先取完者为胜。

现在很急很关键，快帮nova君看看他到底应该先手还是后手才能战胜对手。

## 输入

每组测试数据两行。

第一行两个整数n和k，第二行k个整数，意义如题目描述。

N<=100000,k<=15

## 输出

对于每组数据，输出一行，为nova应该采取的先后手 sente \ gote

## 输入样例

```
4 3
1 2 3
1 1
1 
```

## 输出样例

```
gote
sente
```

## 思路

博弈论dp

谁能先抢占先机，那就尽可能的先拿走对应的石子，先手拿走了后手就不拿了，反之亦然

只要看最后的第n个石子是被谁拿走即可

# `G` 听说你会打地鼠

时间限制：300ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

打地鼠是个很简单的游戏，不过你知道怎么打地鼠才能最省力吗？

每时刻，都有N只地鼠在pi(xi,yi)位置出现，打掉一只，该时刻其他地鼠会消失。

打掉第一只地鼠不消耗能量，之后每只地鼠消耗的能量约与鼠标移动距离成正比，即cost = dis(pi,pi+1)（平面上两点距离怎么求不多说了）

现在认为打第一只地鼠不消耗能量，那么打完所有地鼠消耗的最小能量是多少？

## 输入

多组测试数据

每组测试数据第一行两个整数为时长K和每时刻地鼠数量N

接下来N行每行2N个整数表示N只地鼠坐标

N<=100,K<40

## 输出

对于每组数据，输出一行，为最小消耗,结果保留3位小数

## 输入样例

```
2 2
1 1 3 4 
2 2 5 3
```

## 输出样例

```
1.414
```

## 思路

求两点间距离我觉得不用说了...

那剩下的我觉得就没啥好说的吧，把这个题当做流水线dp就直接做出来了

