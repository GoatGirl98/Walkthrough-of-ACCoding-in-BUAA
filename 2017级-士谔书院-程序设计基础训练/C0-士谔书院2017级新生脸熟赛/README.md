# C0-士谔书院2017级新生脸熟赛

# `A` 欢迎来到士谔书院~

时间限制：10000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

欢迎成为北航士谔书院的一员。快来跟OJ打个招呼吧~

## 输入

无

## 输出

输出一行，内容为"HELLO BUAA SHIE COLLEGE!"

## 输入样例

## 输出样例

```
HELLO BUAA SHIE COLLEGE!
```



# `B` 试试a-b吧！

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

计算a-b

## 输入

第一个数为数据组数n

接下来n行，每行2个整数a,b(保证a,b在int范围内)

## 输出

对于每组数据，输出一行，a-b的值

## 输入样例

```
2
2 1
1234567890 -1234567890
```

## 输出样例

```
1
2469135780
```

## emmmm......

说好的a+b呢？

虽然一般int数据类型就够用，但是也存在这样的情况：为了避免因为运算过程中产生过大的数据，主动使用支持更大数据范围的数据类型long long 甚至unsigned long long。



# `C` 哦~我的女神！

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

沙航有佳人，久坐在南湖。

劝我好学习，赠我航概书。

晨兴望教二，夜暮思国实。

………………

航概妹是沙航最火的女神，每年慕名与她合影的人数不胜数，

fazdzz久闻女神的盛名，打算一开学就要去见见她，但是他不知道航概妹离他有多远，你能帮他算一下吗？

## 输入

只有一行数据，是两对儿浮点数，分别表示fazdzz的坐标和航概妹的坐标，（单位：m）

**请仔细查看输入样例的数据格式**

## 输出

fazdzz和航概妹的距离，保留3位小数，（单位：m）

## 输入样例

```
(0.0, 0.00) (3.0000, 4)
```

## 输出样例

```
5.000m
```

## HINT

前往南湖和教3的中间，就能看到航概妹哟~



# `D` 风吹雨遍山

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

那是一个普通的下午。

无法面对事业的高压，我逃离了城市的喧嚣。漫步郊外，心情似乎也变得轻松。

命运之神的捉弄，一场不合时宜的春雨浇凉了我，想起我失败的人生，我心中最后的希望之火也熄灭了。

如同半死的苍蝇，我失神地奔逃。深深的山谷，到底哪里能让我暂寄以渡过这无妄之灾。

跑啊跑，在那不远处的山脚，竟能看到一处民居。如此绝望之中，尚能寻到我的避难所，看着雨后出现的金色太阳，我突然又有了谜之自信。

那个阴雨绵绵的下午，那幽静山谷的一景，我无法忘记。

## 输入

无输入

## 输出

画出这幅《山雨》

## 输出样例

```
___________________
|  ---__---__---  |
| |_____________| |
|    '  "     '   |
|    /\     '     |
|   /" \    "     |
|  /   '\  "  /\  |
| /  '   \n  /  \ |
|_________________|
```

## HINT

转义字符

出题人曾经沉迷'\a'不能自拔



# `E` 管理员的忧伤

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

管理一个巨大的新生群不是一件容易的事，管理员们时时刻刻都要提防奇怪的人进入。

从2010年起，北航的本科生学号是8位整数yyxxzzzz，yy是入学年份的后两位，xx是专业代码，之后是四位神秘数字（雾）。

在2010年前，北航本科生学号的前两位是3y，y是入学年份的个位数。

比如看到有自称3706系的人，那他很可能就是2007年入学的6系前辈哦。

**认定2016级及以前的学生为"bacon"，2017级学生为"freshman"，其它年级学生还不存在。**

请根据给出的群验证消息选段，根据**年级**粗略判断将要入群的人的身份（**不存在的学生为"who?"**）。

## 输入

多组数据输入。

每组数据是一个4位的整数（年级+专业）

保证不会输入不存在的专业代码

## 输出

对于每组数据，按照描述中的要求逐行输出

## 输入样例

```
1406
1879
1773
3921
2626
```

## 输出样例

```
bacon
who?
freshman
bacon
who?
```

## HINT

目前已知的合法本科生学号的前两位yy，均满足 **10<=yy<=1710<=yy<=17 或 30<=yy<=3930<=yy<=39**



# `F` 付佬的括号匹配 - naive

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

付佬是软件学院的红太阳，他说的每一句话都被奉为“太阳箴言”。

小明当然也不想错过学习付佬先进姿势的机会，可惜他今天没有水群，只好去翻999+的聊天记录了（哭）。

已知付佬说的每一句话总会在**最外层**套一对小括号，如：

（我给你三秒钟重新组织你的语言）

（女装还行）

付佬做事十分严谨，所以所有的只有半边括号的话一定不是付佬说的。

给你一段聊天记录，你能判断有多少条记录可能是“太阳箴言吗”？请顺便输出他们。

**本题所有数据只含常用半角字符，不会出现全角字符以及除英语外的语言字符，更不会以空格结束字符串**

## 输入

多组数据输入。

对于每组数据，第一行是聊天记录的行数n (n <= 10)

接下来n行，每行都是一个字符串，长度不超过50

## 输出

对于每组数据，第一行输出“太阳箴言”的数量，接下来按时间从前到后的顺序逐行输出每一条可能是“太阳箴言”的记录。最后输出一行“----------”。

## 输入样例

```
6
((emmmm...))
<wrong answer>
(cry
hhhhhhh)
(hai xing)
praise the sun!
1
lai shuai jiao
```

## 输出样例

```
2
((emmmm...))
(hai xing)
----------
0
----------
```



# `G` 后羿射日 - ver. easy

时间限制：20ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

（此题来自某个**美型**dalao）

有一天，后羿在水2017级士谔书院群的时候，发现了生命中的宿敌。

那！就！是！传说中的太阳神fulao！

每当fulao出现，总会有数以万计的太阳尾随其后。

以射下太阳为工作的后羿十分愤怒，于是决定射下fulao带来的太阳中的最强大的三个。

后羿想知道自己为了对抗fulao，照自己的规划**能射下的这些太阳的总能量**，并将这些信息告诉自己的对手fulao。

为了表达对宿敌fulao的敬意，后羿在**把自己消耗的能量告诉fulao的时候要%(膜)一下fulao**。

## 输入

第一行输入一个数字 T(0<=T<=10)T(0<=T<=10)，代表一共有**T组数据输入**。

对于每组数据

每组数据的第一行输入一个正整数n(3<=n<=100)n(3<=n<=100)，代表fulao创造的太阳的个数。

每组数据的第二行输入n个正整数 aiai ( aiai在long long范围内 )，代表fulao创造的第i个太阳的能量值。

每组数据的第三行输入一个正整数 ff ( ff在long long范围内 )，代表这次的fulao数。

## 输出

对于每组数据，输出一行，为后羿射下太阳的**总能量值%fulao之后得到的值** 。

**每两组输出之间空一行**。

## 输入样例

```
2
4
2 3 3 3
2333
6
1 1 4 5 1 4 
5
```

## 输出样例

```
9

3
```

## HINT

%，模，膜

emmmm...这些数加起来可能很大的样子？

## 思路

long long 肯定是不够的

比如说(LLONG_MAX+LLONG_MAX)%(LLONG_MAX-1)就会超出范围

所以需要使用unsigned long long，当然了，像我这样写高精度是最为稳妥的

# `H` 王助教科学和牌

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

王助教（wzl）非常重视科学打麻将。现在，王助教已经听牌并等待自摸和牌 **即：摸到想要的牌就可以和牌**。

王助教需要从牌山中摸牌（摸牌之前牌是不可见的，摸牌之后可见），摸到不想要的牌后王助教会丢掉。摸到想要的牌王助教就宣布和牌。

王助教数了一下，自己还能够摸k张牌，自己不可见n张牌，自己想要的牌剩余m张（王助教可以以可见的牌为基础，使用排除法推断出自己想要的牌有多少张不可见）。王助教想要知道自己自摸和牌的概率，来确定王助教是否值得等待和牌。

假设自己无法看到的牌与自己想要的牌都是均匀分布的（从牌山中摸到自己不可见的每张牌的可能性都相等）。并且不考虑其他人和牌结束的情况。

## 输入

第一个数为数据组数T。

接下来T行，每行3个整数k,n,m，分别代表能够摸的牌数，不可见牌数，想要牌的剩余量。

1≤T≤51≤T≤5

0≤n≤1360≤n≤136

0≤k≤n0≤k≤n

0≤m≤n0≤m≤n

## 输出

对于每组数据，输出一行，王助教自摸和牌的概率（以百分数表示，精确到1%，四舍五入）

## 输入样例

```
1
1 5 2
```

## 输出样例

```
40%
```

## HINT

C和C++在设置浮点数输出格式时，多出的部分会自动四舍五入。

也请大家熟悉常用的各种数据类型（int,double, long long）的取值范围，要确保**总是在取值范围内进行这些数据类型的运算**。关于C和C++相同和不同数据类型之间运算的法则，也请大家务必熟记于心。

如果想要对一个数四舍五入为整数，也可以先+0.5然后再取不大于它的最大整数。

概率统计是一门好学科。可以使用古典概型、条件概率等多种方式推导此题。

## 思路

条件概率，答案很显然是C(n-m,k)/C(n,k) 如果n-m比k大，答案就是100%

组合数就普通地求一下即可，如果数据的要求更大的话，可以通过预处理逆元的方式实现求出阶乘，然而本题大可不必

# `I` 管理员的大忧伤

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

凯导(k')和费导(f')在新生群十分地活跃，作为士谔书院的辅(hei)导(e)员(shi)们(li），二人都非常期待更多新人的加入。

然而在管理新生群时，他们都有自己的烦恼。

凯导是重度强迫症患者，他只能接受正确的名片格式（四位数字+一个空格+省份+一个空格+姓名），如果看到有人的名片不合基本法，他就会浑身难受，甚至想要制(song)裁(ta)这(men)些(shang)人(tian)。

费导则因为萌新们都不爆照而感到惆怅，所以，每当新人入群时，她一定会推荐萌新爆照。

**不考虑四位数字本身含义的正确性、省份和姓名的正确性**，给出一些人刚进群时的名片，按如下要求输出

**若名片格式不合法，输出"qiu qiu ni le, gai ming pian ba"**

**若名片格式合法，输出"meng xin bao zhao!"**

## 输入

多组数据输入

每组数据是一行可能带有若干空格的字符串，长度不超过50

（保证只可能有在范围{空格，0~9，a~z，A~Z}内的字符，但是开头和结尾也可能有空格）

## 输出

对于每组数据，输出一行凯导费导可能的反应。

## 输入样例

```
1406 shan wjk
16xx su zwr
  1773 lu    Van  
17 Apollo
```

## 输出样例

```
meng xin bao zhao!
qiu qiu ni le, gai ming pian ba
qiu qiu ni le, gai ming pian ba
qiu qiu ni le, gai ming pian ba
```

## 思路

字符串处理，不多说了

# `J` 小太阳

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

众所周知，士谔书院活跃着很多大佬，而每个大佬都闪耀着太阳的光芒~

那么问题来了：假设有好多好多个大佬，而每个大佬都散发着光芒，照亮着一段路径，那么他照亮的最长的路径长度有多长呢？

给定一个学蒻社交网，而社交网中，每个人都被学霸的光芒笼罩(可能这个社交网中会潜伏有大佬，所以这个光芒颜色可能包含1到n)，求出其中每种颜色的光芒笼罩的网络中一条路径的上最多的**节点个数**

## 正常描述

给定一棵树（树是一个n个节点，n-1条边的连通图，图...我不会说明）

树上每个节点有颜色，按颜色顺序(从小到大)输出其中每种颜色最长的连续的线段上**节点个数**

有以下特殊(水?)数据:

1、每个相同颜色笼罩的地方都不连续

2、光芒的颜色都在1到n之间

**注意，同一种颜色所在的块可能不连续**

不会爆栈

p.s.有特殊数据的意思就是说剩下的数据不一定是这样的啊QwQ

## 输入

第一行：一个数字T，表示数据组数(T<=20)

对于每组数据：

第一行：一个数字n，表示有n个节点(n<=100,000)

第二行：n个整数，分别表示对应编号的节点的颜色

以下n-1行，每行两个数字u和v，表示第u个节点和v个节点之间有一条边

## 输出

对于每组数据，按**颜色大小**顺序输出所有的颜色和笼罩的节点个数

首先输出当前组数

然后输出颜色个数行，每行输出一个颜色，格式是： 颜色:个数

比如颜色为1，长度为2，应当输出1:2

输出时每组数据之间有一个空行

## 输入样例

```
2
3
1 1 1
1 2
2 3
3
1 2 1
1 2
2 3
```

## 输出样例

```
Case 1:
color 1:3

Case 2:
color 1:1
color 2:1
```

## 思路

dfs求图的最长链

**在有了上面这个东西怎么求之后，我们对于所有的边，如果连接的两个节点颜色相同，才会真正的将它放在图中。否则不加入。在最后输出的时候，由于颜色升序输出，且在int范围内，故我们需要采用map类进行保存。**

## 题外话

**出题人目前的总过题排名是第12名，大概是在今年1月的时候刚刚被从总过题榜前10挤下去的吧，敬仰大佬**

# `K` 来一场华丽的学级裁判吧

时间限制：1000ms  内存限制：65536kb

通过率：/ `(%) `  正确率：/ `(%)`

## 题目描述

作为超高校级的bug设计师，你来到私立希望之峰学园（しりつきぼうがみねがくえん））。

这里是一个充满绝望与希望的地方。

包含自己在内，与有着各式各样不同风格与擅长领域的15名超高校级学生一起参加入学典礼的时候 ，

却看到一个自称是学园长的活动布偶熊表示：“一旦进来，就必须要一辈子都待在这里才行。如果想要毕业离开的话，只要互相残杀就好了！”

就这样，因为这个不合理的理由，这群被关在这个绝望学园的高材生们，陷入除了杀人之外就是被杀的阴谋当中，

加上破坏学生之间信赖关系的卑劣“学级裁判”制度，更让整个真相陷入扑朔迷离当中……

也因为这样，在学校里开始发生各式各样的杀人事件，你必须在作为议论审判舞台的“学级裁判”中，找出这些在学园里引起杀人事件的犯人们的矛盾之处，破解他们的各种犯罪手法才行！

通过你的调查，你成功在裁判前确定了谁才是真正的凶手。可是真凶——“***X***”也察觉到了你的存在，决定将整件事情栽赃到你的身上。

为了让*X*受到处刑，而不让无辜的大家因为做出错误的选择而遭受全体处刑，你必须在学级审判中通过唇枪舌战让大家也清楚事件的真相。

于是一场激烈的争辩在你和*X*之间展开。

初始时你和*X*都有一定数量的影响力，分别为a和b（**a>=b**），取胜的条件就是使*X*的影响力先降到0。

争辩中，你和*X*会轮流发言，每一次发言都会***等可能的***产生积极或消极的影响。

积极的影响会使发言者的影响力增加一点，并使对方的影响力降低一点。

消极的影响则会产生相反的效果，即发言者的影响力降低一点，反而使对方的影响力增加一点。

***每一次发言记作一轮。***

在争辩前，你决定写一个小程序，帮助自己计算在给定的初始影响力条件下，恰好在第k轮自己取得胜利的可能情况数。（两种情况视为不同的，当且仅当至少存在一轮在两种情况中产生的效果不同，即自己发言取得积极影响和对方发言取得消极影响视为同一种情况）性命攸关，这一次即使是超高校级的bug设计师，也一定要避免bug的出现了！

## 输入

多组数据输入。（不超过100000次询问）

每组数据为一行，包含3个整数a,b,k （1<=a,b<=50000，0<=k<=50000,a>=k,a>=b）

a为你的初始影响力，b为*X*的初始影响力，k为轮数。

## 输出

对于每组数据，输出一行，为恰好在第k轮*X*的影响力降低到0的情况数。

结果可能很大，请对 109+7109+7 取模。

（**注意：一旦有一方的影响力在某一时刻降低到0，学级裁判立刻终止**）

## 输入样例

```
1 1 1
2 1 2
```

## 输出样例

```
1
0
```

对于第一组数据，不妨设自己先发言，则只有第一轮取得积极影响这一种情况可以取得胜 利。

对于第二组数据，无论前两轮情况如何，都无法使恰好在第二轮结束时b的影响力为0,故输出0

[![img](http://img.weixinyidu.com/160307/2f0e1672.jpg)](http://img.weixinyidu.com/160307/2f0e1672.jpg)

## 思路
**本题属于基础数论+基础组合数学知识，需要读者对于逆元的相关知识，以及如何线性预处理连续一段自然数的逆元，以及卡特兰数的推导原理有一定的认识**

**首先说说卡特兰数的变形，也就是这题的核心思想。**

这需要读者先去自学卡特兰数，以及卡特兰数的问题背景之一：从$(0,0)$到$(n-1,n-1)$,每次能往右,往上,往右上走,求不超过$y=x$这条直线的方案数。

那么本题我们可以以操作次数作为x轴坐标，玩家的影响力-X的影响力为y轴坐标，那么我们要做的就是从$(0,a-b)$，每次往右挪1格的时候需要向上或者向下挪动2格，最终到达目的地$(k,a+b)$。同时也由此引出了几个限制条件。

- 由于最后一次操作必须是正影响力，所以我们可以将目的地改为 $(k-1, a+b-2)$。
- 由于在第 $k-1$ 步之前，不允许有玩家或X任何一方的影响力归0，那么也就是说在前 $k-1$ 步的挪动不可以触碰到 $y=a+b$ 和 $y=-a-b$ 这两条直线。

我们不考虑第二个条件的限制时，直接列二元一次方程即可求得需要多少次向上走，那么直接求组合数就可以了。

在考虑第二个限制的时候，我们也可以将原点根据不允许到达的上限/下限进行处理，分别计算从 $(0,a+3b)$ 到 $(k-1, a+b-2)$ 和 从 $(0,-3a-b)$ 到 $(k-1, a+b-2)$ 的种类数，此时则不需要限制。将这两项减去即为所求得的解。

根据计算，不难得到答案为 $C(k-1, \cfrac{k-b}{2})-C(k-1,\cfrac{k+b}{2})-C(k-1,a-1+\cfrac{k+b}{2})$。 由于本题确保了 $a\ge k $ 且 $a \ge b$ ，所以第三项在本题可以直接忽略。

那么我们唯一需要判断的就是 $k$ 和 $b$ 的奇偶性是否一致，如果不一致的话必然没有合法的解。剩下的边界情况交给求组合数的函数处理即可（例如组合数顶端的数小于0或者大于底端的数）。

## 题外话

**出题人目前的总过题排名是第11名，就是1月份左右被笔者挤下总过题排行榜的。这位竞赛神貌似也是直硕THU的CS本部而非深研院...这个真的是相当难得的，希望来年可以如愿上岸，见到这位学长。**


